var mApp=function(){var t=function(e){var t=e.data("skin")?"m-tooltip--skin-"+e.data("skin"):"";e.tooltip({trigger:"hover",template:'<div class="m-tooltip '+t+' tooltip" role="tooltip">                <div class="arrow"></div>                <div class="tooltip-inner"></div>            </div>'})},e=function(){$('[data-toggle="m-tooltip"]').each(function(){t($(this))})},a=function(e){var t=e.data("skin")?"m-popover--skin-"+e.data("skin"):"";e.popover({trigger:"hover",template:'            <div class="m-popover '+t+' popover" role="tooltip">                <div class="arrow"></div>                <h3 class="popover-header"></h3>                <div class="popover-body"></div>            </div>'})},n=function(){$('[data-toggle="m-popover"]').each(function(){a($(this))})},o=function(e,t){e.mPortlet(t)},i=function(){$('[data-portlet="true"]').each(function(){var e=$(this);!0!==e.data("portlet-initialized")&&(o(e,{}),e.data("portlet-initialized",!0))})};return{init:function(){mApp.initComponents()},initComponents:function(){$('[data-scrollable="true"]').each(function(){var e,t,a=$(this);mUtil.isInResponsiveRange("tablet-and-mobile")?(e=a.data("mobile-max-height")?a.data("mobile-max-height"):a.data("max-height"),t=a.data("mobile-height")?a.data("mobile-height"):a.data("height")):(e=a.data("max-height"),t=a.data("max-height")),e&&a.css("max-height",e),t&&a.css("height",t),mApp.initScroller(a,{})}),e(),n(),$("body").on("click","[data-close=alert]",function(){$(this).closest(".alert").hide()}),i()},initTooltips:function(){e()},initTooltip:function(e){t(e)},initPopovers:function(){n()},initPopover:function(e){a(e)},initPortlet:function(e,t){o(e,t)},initPortlets:function(){i()},scrollTo:function(e,t){var a=e&&0<e.length?e.offset().top:0;a+=t||0,jQuery("html,body").animate({scrollTop:a},"slow")},scrollToViewport:function(e){var t=e.offset().top,a=e.height(),n=t-(mUtil.getViewPort().height/2-a/2);jQuery("html,body").animate({scrollTop:n},"slow")},scrollTop:function(){mApp.scrollTo()},initScroller:function(e,t){mUtil.isMobileDevice()?e.css("overflow","auto"):(e.mCustomScrollbar("destroy"),e.mCustomScrollbar({scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,axis:e.data("axis")?e.data("axis"):"y",mouseWheel:{scrollAmount:120,preventDefault:!0},setHeight:t.height?t.height:"",theme:"minimal-dark"}))},destroyScroller:function(e){e.mCustomScrollbar("destroy")},alert:function(e){e=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},e);var t=mUtil.getUniqueID("App_alert"),a='<div id="'+t+'" class="custom-alerts alert alert-'+e.type+' fade in">'+(e.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==e.icon?'<i class="fa-lg fa fa-'+e.icon+'"></i>  ':"")+e.message+"</div>";return e.reset&&$(".custom-alerts").remove(),e.container?"append"==e.place?$(e.container).append(a):$(e.container).prepend(a):1===$(".page-fixed-main-content").size()?$(".page-fixed-main-content").prepend(a):($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&0===$(".page-head").size()?$(".page-title").after(a):0<$(".page-bar").size()?$(".page-bar").after(a):$(".page-breadcrumb, .breadcrumbs").after(a),e.focus&&mApp.scrollTo($("#"+t)),0<e.closeInSeconds&&setTimeout(function(){$("#"+t).remove()},1e3*e.closeInSeconds),t},block:function(e,t){var a,n,o,i=$(e);if("spinner"==(t=$.extend(!0,{opacity:.1,overlayColor:"",state:"brand",type:"spinner",centerX:!0,centerY:!0,message:"",shadow:!0,width:"auto"},t)).type?o='<div class="m-spinner '+(a=t.skin?"m-spinner--skin-"+t.skin:"")+" "+(n=t.state?"m-spinner--"+t.state:"")+'"></div':(a=t.skin?"m-loader--skin-"+t.skin:"",n=t.state?"m-loader--"+t.state:"",size=t.size?"m-loader--"+t.size:"",o='<div class="m-loader '+a+" "+n+" "+size+'"></div'),t.message&&0<t.message.length){var l="m-blockui "+(!1===t.shadow?"m-blockui-no-shadow":"");html='<div class="'+l+'"><span>'+t.message+"</span><span>"+o+"</span></div>",t.width=mUtil.realWidth(html)+10,"body"==e&&(html='<div class="'+l+'" style="margin-left:-'+t.width/2+'px;"><span>'+t.message+"</span><span>"+o+"</span></div>")}else html=o;var r={message:html,centerY:t.centerY,centerX:t.centerX,css:{top:"30%",left:"50%",border:"0",padding:"0",backgroundColor:"none",width:t.width},overlayCSS:{backgroundColor:t.overlayColor,opacity:t.opacity,cursor:"wait"},onUnblock:function(){i&&(i.css("position",""),i.css("zoom",""))}};"body"==e?(r.css.top="50%",$.blockUI(r)):(i=$(e)).block(r)},unblock:function(e){e&&"body"!=e?$(e).unblock():$.unblockUI()},blockPage:function(e){return mApp.block("body",e)},unblockPage:function(){return mApp.unblock("body")}}}();$(document).ready(function(){mApp.init()});var mUtil=function(){var t=[],a={sm:544,md:768,lg:992,xl:1200},n={brand:"#716aca",metal:"#c4c5d6",light:"#ffffff",accent:"#00c5dc",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#f4516c"},o=function(){var e;jQuery(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){!function(){for(var e=0;e<t.length;e++)t[e].call()}()},250)})};return{init:function(e){e&&e.breakpoints&&(a=e.breakpoints),e&&e.colors&&(n=e.colors),o()},addResizeHandler:function(e){t.push(e)},runResizeHandlers:function(){_runResizeHandlers()},getURLParam:function(e){var t,a,n=window.location.search.substring(1).split("&");for(t=0;t<n.length;t++)if((a=n[t].split("="))[0]==e)return unescape(a[1]);return null},isMobileDevice:function(){return this.getViewPort().width<this.getBreakpoint("lg")},isDesktopDevice:function(){return!mUtil.isMobileDevice()},getViewPort:function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},isInResponsiveRange:function(e){var t=this.getViewPort().width;return"general"==e||("desktop"==e&&t>=this.getBreakpoint("lg")+1||("tablet"==e&&t>=this.getBreakpoint("md")+1&&t<this.getBreakpoint("lg")||("mobile"==e&&t<=this.getBreakpoint("md")||("desktop-and-tablet"==e&&t>=this.getBreakpoint("md")+1||"tablet-and-mobile"==e&&t<=this.getBreakpoint("lg")))))},getUniqueID:function(e){return e+Math.floor(Math.random()*(new Date).getTime())},getBreakpoint:function(e){if($.inArray(e,a))return a[e]},isset:function(e,t){var a;if(-1!==(t=t||"").indexOf("["))throw new Error("Unsupported object path notation.");t=t.split(".");do{if(void 0===e)return!1;if(a=t.shift(),!e.hasOwnProperty(a))return!1;e=e[a]}while(t.length);return!0},getHighestZindex:function(e){for(var t,a,n=$(e);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}},hasClasses:function(e,t){for(var a=t.split(" "),n=0;n<a.length;n++)if(0==e.hasClass(a[n]))return!1;return!0},realWidth:function(e){var t=$(e).clone();t.css("visibility","hidden"),t.css("overflow","hidden"),t.css("height","0"),$("body").append(t);var a=t.outerWidth();return t.remove(),a},hasFixedPositionedParent:function(e){var t=!1;return e.parents().each(function(){"fixed"!=$(this).css("position")||(t=!0)}),t},sleep:function(e){for(var t=(new Date).getTime(),a=0;a<1e7&&!((new Date).getTime()-t>e);a++);},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},getColor:function(e){return n[e]},isAngularVersion:function(){return void 0!==window.Zone}}}();$(document).ready(function(){mUtil.init()}),jQuery.fn.extend({animateClass:function(e,t){var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";jQuery(this).addClass("animated "+e).one(a,function(){jQuery(this).removeClass("animated "+e)}),t&&jQuery(this).one(a,t)},animateDelay:function(e){for(var t=["webkit-","moz-","ms-","o-",""],a=0;a<t.length;a++)jQuery(this).css(t[a]+"animation-delay",e)},animateDuration:function(e){for(var t=["webkit-","moz-","ms-","o-",""],a=0;a<t.length;a++)jQuery(this).css(t[a]+"animation-duration",e)}}),function(g){if(void 0===mUtil)throw new Error("mUtil is required and must be included before mDatatable.");g.fn.mDatatable=function(m){if(!g(this).hasClass("m-datatable--loaded")){if(0===g(this).length)throw new Error("No mDatatable element exist.");if(""===g(this).attr("id"))throw new Error("ID is required.");var p=this,r={offset:110,stateId:"m-meta",init:function(e){return r.setupBaseDOM.call(),r.setupDOM(p.table),f.setDataSourceQuery(f.getOption("data.source.read.params.query")),g(p).on("m-datatable--on-layout-updated",r.afterRender),p.debug&&r.stateRemove(r.stateId),"remote"!==e.data.type&&"local"!==e.data.type||((!1===e.data.saveState||!1===e.data.saveState.cookie&&!1===e.data.saveState.webstorage)&&r.stateRemove(r.stateId),"local"===e.data.type&&"object"==typeof e.data.source&&(null===e.data.source&&r.extractTable(),p.dataSet=p.originalDataSet=r.dataMapCallback(e.data.source)),r.dataRender()),r.setHeadTitle.call(),r.setHeadTitle.call(this,p.tableFoot),null===e.data.type&&(r.setupCellField.call(),r.setupTemplateCell.call(),r.setupSystemColumn.call()),void 0!==e.layout.header&&!1===e.layout.header&&g(p.table).find("thead").remove(),void 0!==e.layout.footer&&!1===e.layout.footer&&g(p.table).find("tfoot").remove(),null!==e.data.type&&"local"!==e.data.type||r.layoutUpdate(),g(window).resize(r.fullRender),g(p).height(""),g(f.getOption("search.input")).on("keyup",function(e){f.search(g(this).val().toLowerCase())}),p},extractTable:function(){var i=[],n=g(p).find("tr:first-child th").get().map(function(e,t){var a=g(e).data("field");void 0===a&&(a=g(e).text());var n={field:a,title:a};for(var o in m.columns)m.columns[o].field===a&&(n=g.extend(!0,{},m.columns[o],n));return i.push(n),a});m.columns=i;var e=g(p).find("tr").get().map(function(e){return g(e).find("td").get().map(function(e,t){return g(e).html()})}),o=[];g.each(e,function(e,t){if(0!==t.length){var a={};g.each(t,function(e,t){a[n[e]]=t}),o.push(a)}}),m.data.source=o},layoutUpdate:function(){r.setupSubDatatable.call(),r.setupSystemColumn.call(),r.columnHide.call(),r.sorting.call(),r.setupHover.call(),void 0===m.detail&&1===r.getDepth()&&r.lockTable.call(),g(p).trigger("m-datatable--on-layout-updated",{table:g(p.table).attr("id")})},lockTable:function(){var a={lockEnabled:!1,init:function(){a.lockEnabled=g.grep(m.columns,function(e,t){return void 0!==e.locked&&!1!==e.locked}),0!==a.lockEnabled.length&&(r.isLocked()||(p.oriTable=g(p.table).clone()),a.enable())},enable:function(){g(p.table).find("thead,tbody,tfoot").each(function(){var e=this;0===g(this).find(".m-datatable__lock").length&&g(this).ready(function(){!function(e){var t=a.lockEnabledColumns();if(0!==t.left.length||0!==t.right.length)if(0<g(e).find(".m-datatable__lock").length)r.log("Locked container already exist in: ",e);else if(0!==g(e).find(".m-datatable__row").length){var o=g("<div/>").addClass("m-datatable__lock m-datatable__lock--left"),i=g("<div/>").addClass("m-datatable__lock m-datatable__lock--scroll"),l=g("<div/>").addClass("m-datatable__lock m-datatable__lock--right");g(e).find(".m-datatable__row").each(function(){var t=g("<tr/>").addClass("m-datatable__row").appendTo(o),a=g("<tr/>").addClass("m-datatable__row").appendTo(i),n=g("<tr/>").addClass("m-datatable__row").appendTo(l);g(this).find(".m-datatable__cell").each(function(){var e=g(this).data("locked");void 0!==e?(void 0===e.left&&!0!==e||g(this).appendTo(t),void 0!==e.right&&g(this).appendTo(n)):g(this).appendTo(a)}),g(this).remove()}),0<t.left.length&&(g(p.wrap).addClass("m-datatable--lock"),g(o).appendTo(e)),(0<t.left.length||0<t.right.length)&&g(i).appendTo(e),0<t.right.length&&(g(p.wrap).addClass("m-datatable--lock"),g(l).appendTo(e))}else r.log("No row exist in: ",e)}(e)})})},lockEnabledColumns:function(){var a=g(window).width(),e=m.columns,n={left:[],right:[]};return g.each(e,function(e,t){void 0!==t.locked&&(void 0!==t.locked.left&&mUtil.getBreakpoint(t.locked.left)<=a&&n.left.push(t.locked.left),void 0!==t.locked.right&&mUtil.getBreakpoint(t.locked.right)<=a&&n.right.push(t.locked.right))}),n}};return a.init(),a},fullRender:function(){if(r.spinnerCallback(!0),g(p.wrap).removeClass("m-datatable--loaded"),r.isLocked()){var e=g(p.oriTable).children();0<e.length&&(g(p.wrap).removeClass("m-datatable--lock"),g(p.table).empty().html(e),p.oriTable=null,r.setupCellField.call(),f.redraw()),r.updateTableComponents.call()}r.insertData()},afterRender:function(e,t){t.table===g(p.table).attr("id")&&(r.isLocked()||f.redraw(),g(p).ready(function(){g(p.tableBody).find(".m-datatable__row:even").addClass("m-datatable__row--even"),r.isLocked()&&f.redraw(),g(p.tableBody).css("visibility",""),g(p.wrap).addClass("m-datatable--loaded"),r.scrollbar.call(),r.spinnerCallback(!1)}))},setupHover:function(){g(p.tableBody).find(".m-datatable__cell").off("mouseenter","mouseleave").on("mouseenter",function(){var e=g(this).closest(".m-datatable__row").addClass("m-datatable__row--hover"),t=g(e).index()+1;g(e).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+t+")").addClass("m-datatable__row--hover")}).on("mouseleave",function(){var e=g(this).closest(".m-datatable__row").removeClass("m-datatable__row--hover"),t=g(e).index()+1;g(e).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+t+")").removeClass("m-datatable__row--hover")})},adjustLockContainer:function(){if(!r.isLocked())return 0;var e=g(p.tableHead).width(),t=g(p.tableHead).find(".m-datatable__lock--left").width(),a=g(p.tableHead).find(".m-datatable__lock--right").width();void 0===t&&(t=0),void 0===a&&(a=0);var n=Math.floor(e-t-a);return g(p.table).find(".m-datatable__lock--scroll").css("width",n),n},dragResize:function(){var i,l,r=!1,s=void 0;g(p.tableHead).find(".m-datatable__cell").mousedown(function(e){s=g(this),r=!0,i=e.pageX,l=g(this).width(),g(s).addClass("m-datatable__cell--resizing")}).mousemove(function(a){if(r){var n=g(s).index(),e=g(p.tableBody),t=g(s).closest(".m-datatable__lock");if(t){var o=g(t).index();e=g(p.tableBody).find(".m-datatable__lock").eq(o)}g(e).find(".m-datatable__row").each(function(e,t){g(t).find(".m-datatable__cell").eq(n).width(l+(a.pageX-i)).children().width(l+(a.pageX-i))}),g(s).children().width(l+(a.pageX-i))}}).mouseup(function(){g(s).removeClass("m-datatable__cell--resizing"),r=!1}),g(document).mouseup(function(){g(s).removeClass("m-datatable__cell--resizing"),r=!1})},initHeight:function(){if(m.layout.height&&m.layout.scroll){var e=g(p.tableHead).find(".m-datatable__row").height(),t=g(p.tableFoot).find(".m-datatable__row").height(),a=m.layout.height;void 0!==e&&(a-=e),void 0!==t&&(a-=t),g(p.tableBody).css("max-height",a)}},setupBaseDOM:function(){p.old=g(p).clone(),"TABLE"===g(p).prop("tagName")?(p.table=g(p).removeClass("m-datatable").addClass("m-datatable__table"),0===g(p.table).parents(".m-datatable").length&&(p.table.wrap(g("<div/>").addClass("m-datatable").addClass("m-datatable--"+m.layout.theme)),p.wrap=g(p.table).parent())):(p.wrap=g(p).addClass("m-datatable").addClass("m-datatable--"+m.layout.theme),p.table=g("<table/>").addClass("m-datatable__table").appendTo(p)),void 0!==m.layout.class&&g(p.wrap).addClass(m.layout.class),g(p.table).removeClass("m-datatable--destroyed").css("display","block").attr("id",mUtil.getUniqueID("m-datatable--")),f.getOption("layout.height")&&g(p.table).css("max-height",f.getOption("layout.height")),null===m.data.type&&g(p.table).css("width","").css("display",""),p.tableHead=g(p.table).find("thead"),0===g(p.tableHead).length&&(p.tableHead=g("<thead/>").prependTo(p.table)),p.tableBody=g(p.table).find("tbody"),0===g(p.tableBody).length&&(p.tableBody=g("<tbody/>").appendTo(p.table)),void 0!==m.layout.footer&&m.layout.footer&&(p.tableFoot=g(p.table).find("tfoot"),0===g(p.tableFoot).length&&(p.tableFoot=g("<tfoot/>").appendTo(p.table)))},setupCellField:function(e){void 0===e&&(e=g(p.table).children());var a=m.columns;g.each(e,function(e,t){g(t).find(".m-datatable__row").each(function(e,t){g(t).find(".m-datatable__cell").each(function(e,t){void 0!==a[e]&&g(t).data(a[e])})})})},setupTemplateCell:function(e){void 0===e&&(e=p.tableBody);var l=m.columns;g(e).find(".m-datatable__row").each(function(e,t){var i=g(t).data("obj")||{},a=f.getOption("rows.callback");"function"==typeof a&&a(t,i,e),i.getIndex=function(){return e},i.getDatatable=function(){return p},void 0===i&&(i={},g(t).find(".m-datatable__cell").each(function(e,a){var t=g.grep(l,function(e,t){return g(a).data("field")===e.field})[0];void 0!==t&&(i[t.field]=g(a).text())})),g(t).find(".m-datatable__cell").each(function(e,a){var t=g.grep(l,function(e,t){return g(a).data("field")===e.field})[0];if(void 0!==t&&void 0!==t.template){var n="";"string"==typeof t.template&&(n=r.dataPlaceholder(t.template,i)),"function"==typeof t.template&&(n=t.template(i));var o=g("<span/>").append(n);g(a).html(o),void 0!==t.overflow&&g(o).css("overflow",t.overflow)}})})},setupSystemColumn:function(){if(p.dataSet=p.dataSet||[],0!==p.dataSet.length){var i=m.columns;g(p.tableBody).find(".m-datatable__row").each(function(e,t){g(t).find(".m-datatable__cell").each(function(e,a){var t=g.grep(i,function(e,t){return g(a).data("field")===e.field})[0];if(void 0!==t){var n=g(a).text();if(void 0!==t.selector&&!1!==t.selector){if(0<g(a).find('.m-checkbox [type="checkbox"]').length)return;g(a).addClass("m-datatable__cell--check");var o=g("<label/>").addClass("m-checkbox m-checkbox--single").append(g("<input/>").attr("type","checkbox").attr("value",n).on("click",function(){g(this).is(":checked")?f.setActive(this):f.setInactive(this)})).append(g("<span/>"));void 0!==t.selector.class&&g(o).addClass(t.selector.class),g(a).children().html(o)}if(void 0!==t.subtable&&t.subtable){if(0<g(a).find(".m-datatable__toggle-subtable").length)return;g(a).children().html(g("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",n).append(g("<i/>").addClass(f.getOption("layout.icons.rowDetail.collapse"))))}}})});var e=function(e){var t=g.grep(i,function(e,t){return void 0!==e.selector&&!1!==e.selector})[0];if(void 0!==t&&void 0!==t.selector&&!1!==t.selector){var a=g(e).find('[data-field="'+t.field+'"]');if(0<g(a).find('.m-checkbox [type="checkbox"]').length)return;g(a).addClass("m-datatable__cell--check");var n=g("<label/>").addClass("m-checkbox m-checkbox--single m-checkbox--all").append(g("<input/>").attr("type","checkbox").on("click",function(){g(this).is(":checked")?f.setActiveAll(!0):f.setActiveAll(!1)})).append(g("<span/>"));void 0!==t.selector.class&&g(n).addClass(t.selector.class),g(a).children().html(n)}};void 0!==m.layout.header&&!0===m.layout.header&&e(g(p.tableHead).find(".m-datatable__row").first()),void 0!==m.layout.footer&&!0===m.layout.footer&&e(g(p.tableFoot).find(".m-datatable__row").first())}},adjustCellsWidth:function(){var e=g(p.tableHead).width(),t=r.getOneRow(p.tableHead,1).length;if(0<t){e-=20*t;var o=Math.floor(e/t);o<=r.offset&&(o=r.offset),g(p.table).find(".m-datatable__row").find(".m-datatable__cell").each(function(e,t){var a=o,n=g(t).data("width");void 0!==n&&(a=n),g(t).children().css("width",a)})}},adjustCellsHeight:function(){g(p.table).find(".m-datatable__row"),g.each(g(p.table).children(),function(e,t){for(var a=1;a<=r.getTotalRows(t);a++){var n=r.getOneRow(t,a,!1);if(0<g(n).length){var o=Math.max.apply(null,g(n).map(function(){return g(this).height()}).get());g(n).css("height",Math.ceil(o))}}})},setupDOM:function(e){g(e).find("> thead").addClass("m-datatable__head"),g(e).find("> tbody").addClass("m-datatable__body"),g(e).find("> tfoot").addClass("m-datatable__foot"),g(e).find("tr").addClass("m-datatable__row"),g(e).find("tr > th, tr > td").addClass("m-datatable__cell"),g(e).find("tr > th, tr > td").each(function(e,t){0===g(t).find("span").length&&g(t).wrapInner(g("<span/>").width(r.offset))})},scrollbar:function(){var n={tableLocked:null,mcsOptions:{scrollInertia:0,autoDraggerLength:!0,autoHideScrollbar:!0,autoExpandScrollbar:!1,alwaysShowScrollbar:0,mouseWheel:{scrollAmount:120,preventDefault:!1},advanced:{updateOnContentResize:!0,autoExpandHorizontalScroll:!0},theme:"minimal-dark"},init:function(){var e=mUtil.getViewPort().width;if(m.layout.scroll){g(p.wrap).addClass("m-datatable--scroll");var t=g(p.tableBody).find(".m-datatable__lock--scroll");0<g(t).length?(n.scrollHead=g(p.tableHead).find("> .m-datatable__lock--scroll > .m-datatable__row"),n.scrollFoot=g(p.tableFoot).find("> .m-datatable__lock--scroll > .m-datatable__row"),n.tableLocked=g(p.tableBody).find(".m-datatable__lock:not(.m-datatable__lock--scroll)"),e>mUtil.getBreakpoint("lg")?n.mCustomScrollbar(t):n.defaultScrollbar(t)):(n.scrollHead=g(p.tableHead).find("> .m-datatable__row"),n.scrollFoot=g(p.tableFoot).find("> .m-datatable__row"),e>mUtil.getBreakpoint("lg")?n.mCustomScrollbar(p.tableBody):n.defaultScrollbar(p.tableBody))}else g(p.table).css("height","auto").css("overflow-x","auto")},defaultScrollbar:function(e){g(e).css("overflow","auto").css("max-height",f.getOption("layout.height")).on("scroll",n.onScrolling)},onScrolling:function(e){var t=g(this).scrollLeft(),a=g(this).scrollTop();g(n.scrollHead).css("left",-t),g(n.scrollFoot).css("left",-t),g(n.tableLocked).each(function(e,t){g(t).css("top",-a)})},mCustomScrollbar:function(e){var t="xy";null===f.getOption("layout.height")&&(t="x");var a=g.extend({},n.mcsOptions,{axis:t,setHeight:g(p.tableBody).height(),callbacks:{whileScrolling:function(){var a=this.mcs;g(n.scrollHead).css("left",a.left),g(n.scrollFoot).css("left",a.left),g(n.tableLocked).each(function(e,t){g(t).css("top",a.top)})}}});!0===f.getOption("layout.smoothScroll.scrollbarShown")&&g(e).attr("data-scrollbar-shown","true"),r.mCustomScrollbar(e,a),g(e).mCustomScrollbar("scrollTo","top")}};return n.init(),n},mCustomScrollbar:function(e,t){g(p.tableBody).css("overflow",""),0===g(e).find(".mCustomScrollbar").length&&(g(p.tableBody).hasClass("mCustomScrollbar")&&g(p.tableBody).mCustomScrollbar("destroy"),g(e).mCustomScrollbar(t))},setHeadTitle:function(e){void 0===e&&(e=p.tableHead);var t=m.columns,o=g(e).find(".m-datatable__row"),i=g(e).find(".m-datatable__cell");0===g(o).length&&(o=g("<tr/>").appendTo(e)),g.each(t,function(e,t){var a=g(i).eq(e);if(0===g(a).length&&(a=g("<th/>").appendTo(o)),void 0!==t.title&&g(a).html(t.title).attr("data-field",t.field).data(t),void 0!==t.textAlign){var n=void 0!==p.textAlign[t.textAlign]?p.textAlign[t.textAlign]:"";g(a).addClass(n)}}),r.setupDOM(e)},dataRender:function(e){g(p.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded");var t=function(e){g(p.wrap).removeClass("m-datatable--error"),m.pagination?m.data.serverPaging&&"local"!==m.data.type?r.paging(r.getObject("meta",e||null)):r.paging(function(){p.dataSet=p.dataSet||[],r.localDataUpdate();var e=f.getDataSourceParam("pagination");0===e.perpage&&(e.perpage=m.data.pageSize||10),e.total=p.dataSet.length;var t=Math.max(e.perpage*(e.page-1),0),a=Math.min(t+e.perpage,e.total);return p.dataSet=g(p.dataSet).slice(t,a),e}(),function(t,a){g(t.pager).hasClass("m-datatable--paging-loaded")||(g(t.pager).remove(),t.init(a)),g(t.pager).off().on("m-datatable--on-goto-page",function(e){g(t.pager).remove(),t.init(a)});var e=Math.max(a.perpage*(a.page-1),0),n=Math.min(e+a.perpage,a.total);r.localDataUpdate(),p.dataSet=g(p.dataSet).slice(e,n),r.insertData()}):r.localDataUpdate(),r.insertData()};"local"===m.data.type||void 0===m.data.source.read&&null!==p.dataSet||!1===m.data.serverSorting&&"sort"===e?t():r.getData().done(t)},insertData:function(){p.dataSet=p.dataSet||[];var c=f.getDataSourceParam(),u=g("<tbody/>").addClass("m-datatable__body").css("visibility","hidden");g.each(p.dataSet,function(e,t){for(var a=g("<tr/>").attr("data-row",e).data("obj",t),n=0,o=[],i=m.columns.length,l=0;l<i;l+=1){var r=m.columns[l],s=[];if(c.sort.field===r.field&&s.push("m-datatable__cell--sorted"),void 0!==r.textAlign){var d=void 0!==p.textAlign[r.textAlign]?p.textAlign[r.textAlign]:"";s.push(d)}o[n++]='<td data-field="'+r.field+'"',o[n++]=' class="'+s.join(" ")+'"',o[n++]=">",o[n++]=t[r.field],o[n++]="</td>"}g(a).append(o.join("")),g(u).append(a)}),0===p.dataSet.length&&(g("<span/>").addClass("m-datatable--error").width("100%").html(f.getOption("translate.records.noRecords")).appendTo(u),g(p.wrap).addClass("m-datatable--error")),g(p.tableBody).replaceWith(u),p.tableBody=u,r.setupDOM(p.table),r.setupCellField([p.tableBody]),r.setupTemplateCell(p.tableBody),r.layoutUpdate()},updateTableComponents:function(){p.tableHead=g(p.table).children("thead"),p.tableBody=g(p.table).children("tbody"),p.tableFoot=g(p.table).children("tfoot")},getData:function(){var e={dataType:"json",method:"GET",data:{},timeout:3e4};return"local"===m.data.type&&(e.url=m.data.source),"remote"===m.data.type&&(e.url=f.getOption("data.source.read.url"),"string"!=typeof e.url&&(e.url=f.getOption("data.source.read")),"string"!=typeof e.url&&(e.url=f.getOption("data.source")),e.headers=f.getOption("data.source.read.headers"),e.data.datatable=f.getDataSourceParam(),e.method=f.getOption("data.source.read.method")||"POST",f.getOption("data.serverPaging")||delete e.data.datatable.pagination,f.getOption("data.serverSorting")||delete e.data.datatable.sort),g.ajax(e).done(function(e,t,a){p.dataSet=p.originalDataSet=r.dataMapCallback(e),g(p).trigger("m-datatable--on-ajax-done",[p.dataSet])}).fail(function(e,t,a){g(p).trigger("m-datatable--on-ajax-fail",[e]),g("<span/>").addClass("m-datatable--error").width("100%").html(f.getOption("translate.records.noRecords")).appendTo(p.tableBody),g(p).addClass("m-datatable--error")}).always(function(){})},paging:function(e,t){var u={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(e){u.meta=e,u.meta.pages=Math.max(Math.ceil(u.meta.total/u.meta.perpage),1),u.meta.page>u.meta.pages&&(u.meta.page=u.meta.pages),u.paginateEvent=r.getTablePrefix(),u.pager=g(p.table).siblings(".m-datatable__pager"),g(u.pager).hasClass("m-datatable--paging-loaded")||(g(u.pager).remove(),0!==u.meta.pages&&(f.setDataSourceParam("pagination",u.meta),u.callback=u.serverCallback,"function"==typeof t&&(u.callback=t),u.addPaginateEvent(),u.populate(),u.meta.page=Math.max(u.meta.page||1,u.meta.page),g(p).trigger(u.paginateEvent,u.meta),u.pagingBreakpoint.call(),g(window).resize(u.pagingBreakpoint)))},serverCallback:function(e,t){r.dataRender()},populate:function(){var e=f.getOption("layout.icons.pagination"),t=f.getOption("translate.toolbar.pagination.items.default");u.pager=g("<div/>").addClass("m-datatable__pager m-datatable--paging-loaded clearfix");var a=g("<ul/>").addClass("m-datatable__pager-nav");u.pagerLayout.pagination=a,g("<li/>").append(g("<a/>").attr("title",t.first).addClass("m-datatable__pager-link m-datatable__pager-link--first").append(g("<i/>").addClass(e.first)).on("click",u.gotoMorePage).attr("data-page",1)).appendTo(a),g("<li/>").append(g("<a/>").attr("title",t.prev).addClass("m-datatable__pager-link m-datatable__pager-link--prev").append(g("<i/>").addClass(e.prev)).on("click",u.gotoMorePage)).appendTo(a),g("<li/>").append(g("<a/>").attr("title",t.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-prev").html(g("<i/>").addClass(e.more)).on("click",u.gotoMorePage)).appendTo(a),g("<li/>").append(g("<input/>").attr("type","text").addClass("m-pager-input form-control").attr("title",t.input).on("keyup",function(){g(this).attr("data-page",Math.abs(g(this).val()))}).on("keypress",function(e){13===e.which&&u.gotoMorePage(e)})).appendTo(a);var n=f.getOption("toolbar.items.pagination.pages.desktop.pagesNumber"),o=Math.ceil(u.meta.page/n)*n,i=o-n;o>u.meta.pages&&(o=u.meta.pages);for(var l=i;l<o;l++){var r=l+1;g("<li/>").append(g("<a/>").addClass("m-datatable__pager-link m-datatable__pager-link-number").text(r).attr("data-page",r).attr("title",r).on("click",u.gotoPage)).appendTo(a)}g("<li/>").append(g("<a/>").attr("title",t.more).addClass("m-datatable__pager-link m-datatable__pager-link--more-next").html(g("<i/>").addClass(e.more)).on("click",u.gotoMorePage)).appendTo(a),g("<li/>").append(g("<a/>").attr("title",t.next).addClass("m-datatable__pager-link m-datatable__pager-link--next").append(g("<i/>").addClass(e.next)).on("click",u.gotoMorePage)).appendTo(a),g("<li/>").append(g("<a/>").attr("title",t.last).addClass("m-datatable__pager-link m-datatable__pager-link--last").append(g("<i/>").addClass(e.last)).on("click",u.gotoMorePage).attr("data-page",u.meta.pages)).appendTo(a),f.getOption("toolbar.items.info")&&(u.pagerLayout.info=g("<div/>").addClass("m-datatable__pager-info").append(g("<span/>").addClass("m-datatable__pager-detail"))),g.each(f.getOption("toolbar.layout"),function(e,t){g(u.pagerLayout[t]).appendTo(u.pager)});var s=g("<select/>").addClass("selectpicker m-datatable__pager-size").attr("title",f.getOption("translate.toolbar.pagination.items.default.select")).attr("data-width","70px").val(u.meta.perpage).on("change",u.updatePerpage).prependTo(u.pagerLayout.info);g.each(f.getOption("toolbar.items.pagination.pageSizeSelect"),function(e,t){var a=t;-1===t&&(a="All"),g("<option/>").attr("value",t).html(a).appendTo(s)}),g(p).ready(function(){g(".selectpicker").selectpicker().siblings(".dropdown-toggle").attr("title",f.getOption("translate.toolbar.pagination.items.default.select"))}),u.paste()},paste:function(){g.each(g.unique(f.getOption("toolbar.placement")),function(e,t){"bottom"===t&&g(u.pager).clone(!0).insertAfter(p.table),"top"===t&&g(u.pager).clone(!0).addClass("m-datatable__pager--top").insertBefore(p.table)})},gotoMorePage:function(e){if(e.preventDefault(),"disabled"===g(this).attr("disabled"))return!1;var t=g(this).attr("data-page");return void 0===t&&(t=g(e.target).attr("data-page")),u.openPage(parseInt(t)),!1},gotoPage:function(e){e.preventDefault(),g(this).hasClass("m-datatable__pager-link--active")||u.openPage(parseInt(g(this).data("page")))},openPage:function(e){u.meta.page=parseInt(e),g(p).trigger(u.paginateEvent,u.meta),u.callback(u,u.meta),g(u.pager).trigger("m-datatable--on-goto-page",u.meta)},updatePerpage:function(e){e.preventDefault(),null===f.getOption("layout.height")&&g("html, body").animate({scrollTop:g(p).position().top}),u.pager=g(p.table).siblings(".m-datatable__pager").removeClass("m-datatable--paging-loaded"),e.originalEvent&&(u.meta.perpage=parseInt(g(this).val())),g(u.pager).find("select.m-datatable__pager-size").val(u.meta.perpage).attr("data-selected",u.meta.perpage),f.setDataSourceParam("pagination",u.meta),g(u.pager).trigger("m-datatable--on-update-perpage",u.meta),g(p).trigger(u.paginateEvent,u.meta),u.callback(u,u.meta),u.updateInfo.call()},addPaginateEvent:function(e){g(p).off(u.paginateEvent).on(u.paginateEvent,function(e,t){r.spinnerCallback(!0),u.pager=g(p.table).siblings(".m-datatable__pager");var a=g(u.pager).find(".m-datatable__pager-nav");g(a).find(".m-datatable__pager-link--active").removeClass("m-datatable__pager-link--active"),g(a).find('.m-datatable__pager-link-number[data-page="'+t.page+'"]').addClass("m-datatable__pager-link--active"),g(a).find(".m-datatable__pager-link--prev").attr("data-page",Math.max(t.page-1,1)),g(a).find(".m-datatable__pager-link--next").attr("data-page",Math.min(t.page+1,t.pages)),g(u.pager).each(function(){g(this).find('.m-pager-input[type="text"]').prop("value",t.page)}),g(u.pager).find(".m-datatable__pager-nav").show(),t.pages<=1&&g(u.pager).find(".m-datatable__pager-nav").hide(),f.setDataSourceParam("pagination",u.meta),g(u.pager).find("select.m-datatable__pager-size").val(t.perpage).attr("data-selected",t.perpage),g(p.table).find('.m-checkbox > [type="checkbox"]').prop("checked",!1),g(p.table).find(".m-datatable__row--active").removeClass("m-datatable__row--active"),u.updateInfo.call(),u.pagingBreakpoint.call()})},updateInfo:function(){var e=Math.max(u.meta.perpage*(u.meta.page-1)+1,1),t=Math.min(e+u.meta.perpage-1,u.meta.total);g(u.pager).find(".m-datatable__pager-info").find(".m-datatable__pager-detail").html(r.dataPlaceholder(f.getOption("translate.toolbar.pagination.items.info"),{start:e,end:-1===u.meta.perpage?u.meta.total:t,pageSize:-1===u.meta.perpage||u.meta.perpage>=u.meta.total?u.meta.total:u.meta.perpage,total:u.meta.total}))},pagingBreakpoint:function(){var a=g(p.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav");if(0!==g(a).length){var n=f.getCurrentPage(),o=g(a).find(".m-pager-input").closest("li");g(a).find("li").show(),g.each(f.getOption("toolbar.items.pagination.pages"),function(e,t){if(mUtil.isInResponsiveRange(e)){switch(e){case"desktop":case"tablet":Math.ceil(n/t.pagesNumber),t.pagesNumber,t.pagesNumber;g(o).hide(),u.meta=f.getDataSourceParam("pagination"),u.paginationUpdate();break;case"mobile":g(o).show(),g(a).find(".m-datatable__pager-link--more-prev").closest("li").hide(),g(a).find(".m-datatable__pager-link--more-next").closest("li").hide(),g(a).find(".m-datatable__pager-link-number").closest("li").hide()}return!1}})}},paginationUpdate:function(){var e=g(p.table).siblings(".m-datatable__pager").find(".m-datatable__pager-nav"),t=g(e).find(".m-datatable__pager-link--more-prev"),a=g(e).find(".m-datatable__pager-link--more-next"),n=g(e).find(".m-datatable__pager-link--first"),o=g(e).find(".m-datatable__pager-link--prev"),i=g(e).find(".m-datatable__pager-link--next"),l=g(e).find(".m-datatable__pager-link--last"),r=g(e).find(".m-datatable__pager-link-number"),s=Math.max(g(r).first().data("page")-1,1);g(t).each(function(e,t){g(t).attr("data-page",s)}),1===s?g(t).parent().hide():g(t).parent().show();var d=Math.min(g(r).last().data("page")+1,u.meta.pages);g(a).each(function(e,t){g(a).attr("data-page",d).show()}),d===u.meta.pages&&d===g(r).last().data("page")?g(a).parent().hide():g(a).parent().show(),1===u.meta.page?(g(n).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),g(o).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(g(n).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),g(o).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled")),u.meta.page===u.meta.pages?(g(i).attr("disabled",!0).addClass("m-datatable__pager-link--disabled"),g(l).attr("disabled",!0).addClass("m-datatable__pager-link--disabled")):(g(i).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"),g(l).removeAttr("disabled").removeClass("m-datatable__pager-link--disabled"));var c=f.getOption("toolbar.items.pagination.navigation");c.first||g(n).remove(),c.prev||g(o).remove(),c.next||g(i).remove(),c.last||g(l).remove()}};return u.init(e),u},columnHide:function(){var o=mUtil.getViewPort().width;g.each(m.columns,function(e,t){if(void 0!==t.responsive){var a=t.field,n=g.grep(g(p.table).find(".m-datatable__cell"),function(e,t){return a===g(e).data("field")});mUtil.getBreakpoint(t.responsive.hidden)>=o?g(n).hide():g(n).show(),mUtil.getBreakpoint(t.responsive.visible)<=o?g(n).show():g(n).hide()}})},setupSubDatatable:function(){var i=f.getOption("detail.content");if("function"==typeof i){if(0<g(p.table).find(".m-datatable__detail").length)return;g(p.wrap).addClass("m-datatable--subtable"),m.columns[0].subtable=!0;var o=function(a){a.preventDefault();var e=g(this).closest(".m-datatable__row"),t=g(e).next().toggle(),n=g(this).closest("[data-field]:first-child").find(".m-datatable__toggle-subtable").data("value"),o=g(this).find("i").removeAttr("class");g(t).is(":hidden")?(g(o).addClass(f.getOption("layout.icons.rowDetail.collapse")),g(e).removeClass("m-datatable__row--detail-expanded"),g(p).trigger("m-datatable--on-collapse-detail",[e])):(g(o).addClass(f.getOption("layout.icons.rowDetail.expand")),g(e).addClass("m-datatable__row--detail-expanded"),g(p).trigger("m-datatable--on-expand-detail",[e]),g.map(p.dataSet,function(e,t){return n===e[m.columns[0].field]&&(a.data=e,!0)}),a.detailCell=g(t).find(".m-datatable__detail"),0===g(a.detailCell).find(".m-datatable").length&&i(a))},l=m.columns;g(p.tableBody).find(".m-datatable__row").each(function(e,t){g(t).find(".m-datatable__cell").each(function(e,a){var t=g.grep(l,function(e,t){return g(a).data("field")===e.field})[0];if(void 0!==t){var n=g(a).text();if(void 0!==t.subtable&&t.subtable){if(0<g(a).find(".m-datatable__toggle-subtable").length)return;g(a).children().html(g("<a/>").addClass("m-datatable__toggle-subtable").attr("href","#").attr("data-value",n).attr("title",f.getOption("detail.title")).on("click",o).append(g("<i/>").addClass(f.getOption("layout.icons.rowDetail.collapse"))))}}})}),g(p.tableBody).find(".m-datatable__row").each(function(){var e=g("<tr/>").addClass("m-datatable__row-detail").hide().append(g("<td/>").addClass("m-datatable__detail").attr("colspan",r.getTotalColumns()));g(this).after(e),g(this).hasClass("m-datatable__row--even")&&g(e).addClass("m-datatable__row-detail--even")})}},dataMapCallback:function(e){var t=e;return"function"==typeof f.getOption("data.source.read.map")?f.getOption("data.source.read.map")(e):(void 0!==e.data&&(t=e.data),t)},isSpinning:p.debug=!1,spinnerCallback:function(e){if(e){if(!r.isSpinning){var t=f.getOption("layout.spinner");!0===t.message&&(t.message=f.getOption("translate.records.processing")),r.isSpinning=!0,void 0!==mApp&&mApp.block(p,t)}}else r.isSpinning=!1,void 0!==mApp&&mApp.unblock(p)},sortCallback:function(e,i,t){var l=t.type||"string",r=t.format||"",s=t.field;if("date"===l&&"undefined"==typeof moment)throw new Error("Moment.js is required.");return g(e).sort(function(e,t){var a=e[s],n=t[s];switch(l){case"date":var o=moment(a,r).diff(moment(n,r));return"asc"===i?0<o?1:o<0?-1:0:o<0?1:0<o?-1:0;case"number":return isNaN(parseFloat(a))&&null!=a&&(a=Number(a.replace(/[^0-9\.-]+/g,""))),isNaN(parseFloat(n))&&null!=n&&(n=Number(n.replace(/[^0-9\.-]+/g,""))),a=parseFloat(a),n=parseFloat(n),"asc"===i?n<a?1:a<n?-1:0:a<n?1:n<a?-1:0;case"string":default:return"asc"===i?n<a?1:a<n?-1:0:a<n?1:n<a?-1:0}})},log:function(e,t){void 0===t&&(t=""),p.debug&&console.log(e,t)},isLocked:function(){return g(p.wrap).hasClass("m-datatable--lock")||!1},replaceTableContent:function(e,t){void 0===t&&(t=p.tableBody),g(t).hasClass("mCustomScrollbar")?g(t).find(".mCSB_container").html(e):g(t).html(e)},getExtraSpace:function(e){return parseInt(g(e).css("paddingRight"))+parseInt(g(e).css("paddingLeft"))+(parseInt(g(e).css("marginRight"))+parseInt(g(e).css("marginLeft")))+Math.ceil(g(e).css("border-right-width").replace("px",""))},dataPlaceholder:function(e,t){var a=e;return g.each(t,function(e,t){a=a.replace("{{"+e+"}}",t)}),a},getTableId:function(e){return void 0===e&&(e=""),g(p).attr("id")+e},getTablePrefix:function(e){return void 0!==e&&(e="-"+e),"m-datatable__"+r.getTableId()+"-"+r.getDepth()+e},getDepth:function(){for(var e=0,t=p.table;t=g(t).parents(".m-datatable__table"),e++,0<g(t).length;);return e},stateKeep:function(e,t){e=r.getTablePrefix(e),!1!==f.getOption("data.saveState")&&(f.getOption("data.saveState.webstorage")&&localStorage&&localStorage.setItem(e,JSON.stringify(t)),f.getOption("data.saveState.cookie")&&Cookies.set(e,JSON.stringify(t)))},stateGet:function(e,t){if(e=r.getTablePrefix(e),!1!==f.getOption("data.saveState")){var a=null;return null!=(a=f.getOption("data.saveState.webstorage")&&localStorage?localStorage.getItem(e):Cookies.get(e))?JSON.parse(a):void 0}},stateUpdate:function(e,t){var a=r.stateGet(e);null==a&&(a={}),r.stateKeep(e,g.extend({},a,t))},stateRemove:function(e){e=r.getTablePrefix(e),localStorage&&localStorage.removeItem(e),Cookies.remove(e)},getTotalColumns:function(e){return void 0===e&&(e=p.tableBody),g(e).find(".m-datatable__row").first().find(".m-datatable__cell").length},getTotalRows:function(e){return void 0===e&&(e=p.tableBody),g(e).find(".m-datatable__row").first().parent().find(".m-datatable__row").length},getOneRow:function(e,t,a){void 0===a&&(a=!0);var n=g(e).find(".m-datatable__row:not(.m-datatable__row-detail):nth-child("+t+")");return a&&(n=n.find(".m-datatable__cell")),n},hasOverflowCells:function(e){var t=g(e).find("tr:first-child").find(".m-datatable__cell"),a=0;return 0<t.length&&(g(t).each(function(e,t){a+=Math.ceil(g(t).innerWidth())}),a>=g(e).outerWidth())},hasOverflowX:function(e){var t=g(e).find("*");return 0<t.length&&Math.max.apply(null,g(t).map(function(){return g(this).outerWidth(!0)}).get())>g(e).width()},hasOverflowY:function(e){var t=g(e).find(".m-datatable__row"),a=0;return 0<t.length&&(g(t).each(function(e,t){a+=Math.floor(g(t).innerHeight())}),a>g(e).innerHeight())},sortColumn:function(e,o,i){void 0===o&&(o="asc"),void 0===i&&(i=!1);var l=g(e).index(),t=g(p.tableBody).find(".m-datatable__row"),a=g(e).closest(".m-datatable__lock").index();-1!==a&&(t=g(p.tableBody).find(".m-datatable__lock:nth-child("+(a+1)+")").find(".m-datatable__row"));var n=g(t).parent();g(t).sort(function(e,t){var a=g(e).find("td:nth-child("+l+")").text(),n=g(t).find("td:nth-child("+l+")").text();return i&&(a=parseInt(a),n=parseInt(n)),"asc"===o?n<a?1:a<n?-1:0:a<n?1:n<a?-1:0}).appendTo(n)},sorting:function(){var i={init:function(){m.sortable&&(g(p.tableHead).find(".m-datatable__cell:not(.m-datatable__cell--check)").addClass("m-datatable__cell--sort").off("click").on("click",i.sortClick),i.setIcon())},setIcon:function(){var e=f.getDataSourceParam("sort"),t=g(p.tableHead).find('.m-datatable__cell[data-field="'+e.field+'"]').attr("data-sort",e.sort),a=g(t).find("span"),n=g(a).find("i"),o=f.getOption("layout.icons.sort");0<g(n).length?g(n).removeAttr("class").addClass(o[e.sort]):g(a).append(g("<i/>").addClass(o[e.sort]))},sortClick:function(e){var t=f.getDataSourceParam("sort"),a=g(this).data("field"),n=r.getColumnByField(a);if((void 0===n.sortable||!1!==n.sortable)&&(g(p.tableHead).find(".m-datatable__cell > span > i").remove(),m.sortable)){r.spinnerCallback(!0);var o="desc";t.field===a&&(o=t.sort),t={field:a,sort:o=void 0===o||"desc"===o?"asc":"desc"},f.setDataSourceParam("sort",t),i.setIcon(),setTimeout(function(){r.dataRender("sort"),g(p).trigger("m-datatable--on-sort",t)},300)}}};i.init()},localDataUpdate:function(){var a=f.getDataSourceParam();void 0===p.originalDataSet&&(p.originalDataSet=p.dataSet);var e=a.sort.field,t=a.sort.sort,n=r.getColumnByField(e);if(void 0!==n?"function"==typeof n.sortCallback?p.dataSet=n.sortCallback(p.originalDataSet,t,n):p.dataSet=r.sortCallback(p.originalDataSet,t,n):p.dataSet=p.originalDataSet,"object"==typeof a.query){a.query=a.query||{};var o=g(f.getOption("search.input")).val();void 0!==o&&""!==o&&(o=o.toLowerCase(),p.dataSet=g.grep(p.dataSet,function(e){for(var t in e)if(e.hasOwnProperty(t)&&"string"==typeof e[t]&&-1<e[t].toLowerCase().indexOf(o))return!0;return!1}),delete a.query[r.getGeneralSearchKey()]),g.each(a.query,function(e,t){""===t&&delete a.query[e]}),p.dataSet=r.filterArray(p.dataSet,a.query),p.dataSet=p.dataSet.filter(function(){return!0})}return p.dataSet},filterArray:function(e,o,i){if("object"!=typeof e)return[];if(void 0===i&&(i="AND"),"object"!=typeof o)return e;if(i=i.toUpperCase(),-1===g.inArray(i,["AND","OR","NOT"]))return[];var l=Object.keys(o).length,r=[];return g.each(e,function(e,t){var a=t,n=0;g.each(o,function(e,t){a.hasOwnProperty(e)&&t==a[e]&&n++}),("AND"==i&&n==l||"OR"==i&&0<n||"NOT"==i&&0==n)&&(r[e]=t)}),e=r},resetScroll:function(){void 0===m.detail&&1===r.getDepth()&&(g(p.table).find(".m-datatable__row").css("left",0),g(p.table).find(".m-datatable__lock").css("top",0),g(p.tableBody).scrollTop(0))},getColumnByField:function(a){var n;return g.each(m.columns,function(e,t){if(a===t.field)return n=t,!1}),n},getDefaultSortColumn:function(){var a={sort:"",field:""};return g.each(m.columns,function(e,t){if(void 0!==t.sortable&&-1!==g.inArray(t.sortable,["asc","desc"]))return!(a={sort:t.sortable,field:t.field})}),a},getHiddenDimensions:function(e,t){var n={position:"absolute",visibility:"hidden",display:"block"},a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=g(e).parents().addBack().not(":visible");t="boolean"==typeof t&&t;var i=[];return o.each(function(){var e={};for(var t in n)e[t]=this.style[t],this.style[t]=n[t];i.push(e)}),a.width=g(e).width(),a.outerWidth=g(e).outerWidth(t),a.innerWidth=g(e).innerWidth(),a.height=g(e).height(),a.innerHeight=g(e).innerHeight(),a.outerHeight=g(e).outerHeight(t),o.each(function(e){var t=i[e];for(var a in n)this.style[a]=t[a]}),a},getGeneralSearchKey:function(){var e=g(f.getOption("search.input"));return g(e).prop("name")||g(e).prop("id")},getObject:function(e,t){return e.split(".").reduce(function(e,t){return null!==e&&void 0!==e[t]?e[t]:null},t)},extendObj:function(e,t,n){var o=t.split("."),i=0;return function e(t){var a=o[i++];void 0!==t[a]&&null!==t[a]?"object"!=typeof t[a]&&"function"!=typeof t[a]&&(t[a]={}):t[a]={},i===o.length?t[a]=n:e(t[a])}(e),e}};this.API={row:null,record:null,column:null,value:null,params:null};var f={timer:0,redraw:function(){return r.adjustCellsWidth.call(),r.adjustCellsHeight.call(),r.adjustLockContainer.call(),r.initHeight.call(),p},load:function(){return f.reload(),p},reload:function(){return function(e,t){clearTimeout(f.timer),f.timer=setTimeout(e,t)}(function(){!1===m.data.serverFiltering&&r.localDataUpdate(),r.dataRender(),g(p).trigger("m-datatable--on-reloaded")},f.getOption("search.delay")),p},getRecord:function(n){return void 0===p.tableBody&&(p.tableBody=g(p.table).children("tbody")),g(p.tableBody).find(".m-datatable__cell:first-child").each(function(e,t){if(n==g(t).text()){p.API.row=g(t).closest(".m-datatable__row");var a=p.API.row.index()+1;return p.API.record=p.API.value=r.getOneRow(p.tableBody,a),p}}),p},getColumn:function(e){return p.API.column=p.API.value=g(p.API.record).find('[data-field="'+e+'"]'),p},destroy:function(){return g(p).parent().find(".m-datatable__pager").remove(),g(p).replaceWith(g(p.old).addClass("m-datatable--destroyed").show()),g(p).trigger("m-datatable--on-destroy"),p},sort:function(e,t){return void 0===t&&(t="asc"),g(p.tableHead).find('.m-datatable__cell[data-field="'+e+'"]').trigger("click"),p},getValue:function(){return g(p.API.value).text()},setActive:function(e){"string"==typeof e&&(e=g(p.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+e+'"]')),g(e).prop("checked",!0);var t=g(e).closest(".m-datatable__row").addClass("m-datatable__row--active"),a=g(t).index()+1;g(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+a+")").addClass("m-datatable__row--active");var n=[];g(t).each(function(e,t){var a=g(t).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();void 0!==a&&n.push(a)}),g(p).trigger("m-datatable--on-check",[n])},setInactive:function(e){"string"==typeof e&&(e=g(p.tableBody).find('.m-checkbox--single > [type="checkbox"][value="'+e+'"]')),g(e).prop("checked",!1);var t=g(e).closest(".m-datatable__row").removeClass("m-datatable__row--active"),a=g(t).index()+1;g(t).closest(".m-datatable__lock").parent().find(".m-datatable__row:nth-child("+a+")").removeClass("m-datatable__row--active");var n=[];g(t).each(function(e,t){var a=g(t).find('.m-checkbox--single:not(.m-checkbox--all) > [type="checkbox"]').val();void 0!==a&&n.push(a)}),g(p).trigger("m-datatable--on-uncheck",[n])},setActiveAll:function(e){e?f.setActive(g(p.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell")):f.setInactive(g(p.table).find(".m-datatable__body .m-datatable__row").find(".m-datatable__cell")),g(p.table).find(".m-datatable__body .m-datatable__row").find('.m-checkbox [type="checkbox"]').prop("checked",e||!1)},setSelectedRecords:function(){return p.API.record=g(p.tableBody).find(".m-datatable__row--active"),p},getSelectedRecords:function(){return f.setSelectedRecords(),p.API.record},getOption:function(e){return r.getObject(e,m)},setOption:function(e,t){m=r.extendObj(m,e,t)},search:function(n,t){void 0!==t&&(t=g.makeArray(t)),e=function(){var a=f.getDataSourceQuery();if(void 0===t&&void 0!==n){var e=r.getGeneralSearchKey();a[e]=n}"object"==typeof t&&(g.each(t,function(e,t){a[t]=n}),g.each(a,function(e,t){""===t&&delete a[e]})),f.setDataSourceQuery(a),!1===m.data.serverFiltering&&r.localDataUpdate(),r.dataRender()},a=f.getOption("search.delay"),clearTimeout(f.timer),f.timer=setTimeout(e,a);var e,a},setDataSourceParam:function(e,t){var a=r.getDefaultSortColumn();p.API.params=g.extend({},{pagination:{page:1,perpage:f.getOption("data.pageSize")},sort:{sort:a.sort,field:a.field},query:{}},p.API.params,r.stateGet(r.stateId)),p.API.params=r.extendObj(p.API.params,e,t),r.stateKeep(r.stateId,p.API.params)},getDataSourceParam:function(e){var t=r.getDefaultSortColumn();return p.API.params=g.extend({},{pagination:{page:1,perpage:f.getOption("data.pageSize")},sort:{sort:t.sort,field:t.field},query:{}},p.API.params,r.stateGet(r.stateId)),"string"==typeof e?r.getObject(e,p.API.params):p.API.params},getDataSourceQuery:function(){return f.getDataSourceParam("query")||{}},setDataSourceQuery:function(e){f.setDataSourceParam("query",e)},getCurrentPage:function(){return g(p.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-nav").find(".m-datatable__pager-link.m-datatable__pager-link--active").data("page")||1},getPageSize:function(){return g(p.table).siblings(".m-datatable__pager").last().find(".m-datatable__pager-size").val()||10},getTotalRows:function(){return p.API.params.pagination.total},getDataSet:function(){return p.originalDataSet},hideColumn:function(a){g.map(m.columns,function(e){return a===e.field&&(e.responsive={hidden:"xl"}),e});var e=g.grep(g(p.table).find(".m-datatable__cell"),function(e,t){return a===g(e).data("field")});g(e).hide()},showColumn:function(a){g.map(m.columns,function(e){return a===e.field&&delete e.responsive,e});var e=g.grep(g(p.table).find(".m-datatable__cell"),function(e,t){return a===g(e).data("field")});g(e).show()}};return g.each(f,function(e,t){p[e]=t}),"string"==typeof m?f[m].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof m&&m?g.error("Method "+m+" does not exist"):(p.textAlign={left:"m-datatable__cell--left",center:"m-datatable__cell--center",right:"m-datatable__cell--right"},p.dataSet=null,m=g.extend(!0,{},g.fn.mDatatable.defaults,m),g(p).data("options",m),g(p).trigger("m-datatable--on-init",m),r.init.apply(this,[m])),p}},g.fn.mDatatable.defaults={data:{type:"local",source:null,pageSize:10,saveState:{cookie:!0,webstorage:!0},serverPaging:!1,serverFiltering:!1,serverSorting:!1},layout:{theme:"default",class:"m-datatable--brand",scroll:!1,height:null,footer:!1,header:!0,smoothScroll:{scrollbarShown:!0},spinner:{overlayColor:"#000000",opacity:0,type:"loader",state:"brand",message:!0},icons:{sort:{asc:"la la-arrow-up",desc:"la la-arrow-down"},pagination:{next:"la la-angle-right",prev:"la la-angle-left",first:"la la-angle-double-left",last:"la la-angle-double-right",more:"la la-ellipsis-h"},rowDetail:{expand:"fa fa-caret-down",collapse:"fa fa-caret-right"}}},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{input:null,delay:400},rows:{},toolbar:{layout:["pagination","info"],placement:["bottom"],items:{pagination:{type:"default",pages:{desktop:{layout:"default",pagesNumber:6},tablet:{layout:"default",pagesNumber:3},mobile:{layout:"compact"}},navigation:{prev:!0,next:!0,first:!0,last:!0},pageSizeSelect:[10,20,30,50,100]},info:!0}},translate:{records:{processing:"Please wait...",noRecords:"No records found"},toolbar:{pagination:{items:{default:{first:"First",prev:"Previous",next:"Next",last:"Last",more:"More pages",input:"Page number",select:"Select page size"},info:"Displaying {{start}} - {{end}} of {{total}} records"}}}}}}(jQuery),function(r){r.fn.mDropdown=function(e){var o={},n=r(this),l={run:function(e){return n.data("dropdown")?o=n.data("dropdown"):(l.init(e),l.build(),l.setup(),n.data("dropdown",o)),o},init:function(e){o.events=[],o.eventOne=!1,o.close=n.find(".m-dropdown__close"),o.toggle=n.find(".m-dropdown__toggle"),o.arrow=n.find(".m-dropdown__arrow"),o.wrapper=n.find(".m-dropdown__wrapper"),o.scrollable=n.find(".m-dropdown__scrollable"),o.defaultDropPos=n.hasClass("m-dropdown--up")?"up":"down",o.currentDropPos=o.defaultDropPos,o.options=r.extend(!0,{},r.fn.mDropdown.defaults,e),!0===n.data("drop-auto")?o.options.dropAuto=!0:!1===n.data("drop-auto")&&(o.options.dropAuto=!1),0<o.scrollable.length&&(o.scrollable.data("min-height")&&(o.options.minHeight=o.scrollable.data("min-height")),o.scrollable.data("max-height")&&(o.options.maxHeight=o.scrollable.data("max-height")))},build:function(){mUtil.isMobileDevice()?"hover"==n.data("dropdown-toggle")||"click"==n.data("dropdown-toggle")?o.options.toggle="click":(o.options.toggle="click",o.toggle.click(l.toggle)):"hover"==n.data("dropdown-toggle")?(o.options.toggle="hover",n.mouseleave(l.hide)):"click"==n.data("dropdown-toggle")?o.options.toggle="click":"hover"==o.options.toggle?(n.mouseenter(l.show),n.mouseleave(l.hide)):o.toggle.click(l.toggle),o.close.length&&o.close.on("click",l.hide),l.disableClose()},setup:function(){o.options.placement&&n.addClass("m-dropdown--"+o.options.placement),o.options.align&&n.addClass("m-dropdown--align-"+o.options.align),o.options.width&&o.wrapper.css("width",o.options.width),n.data("dropdown-persistent")&&(o.options.persistent=!0),o.options.minHeight&&o.scrollable.css("min-height",o.options.minHeight),o.options.maxHeight&&(o.scrollable.css("max-height",o.options.maxHeight),o.scrollable.css("overflow-y","auto"),mUtil.isDesktopDevice()&&mApp.initScroller(o.scrollable,{})),l.setZindex()},sync:function(){r(n).data("dropdown",o)},disableClose:function(){n.on("click",".m-dropdown--disable-close, .mCSB_1_scrollbar",function(e){e.preventDefault(),e.stopPropagation()})},toggle:function(){return o.open?l.hide():l.show()},setContent:function(e){return n.find(".m-dropdown__content").html(e),o},show:function(){if("hover"==o.options.toggle&&n.data("hover"))return l.clearHovered(),o;if(o.open)return o;if(0<o.arrow.length&&l.adjustArrowPos(),l.eventTrigger("beforeShow"),l.hideOpened(),n.addClass("m-dropdown--open"),mUtil.isMobileDevice()&&o.options.mobileOverlay){var e=o.wrapper.css("zIndex")-1,t=r('<div class="m-dropdown__dropoff"></div>');t.css("zIndex",e),t.data("dropdown",n),n.data("dropoff",t),n.after(t),t.click(function(e){l.hide(),r(this).remove(),e.preventDefault()})}return n.focus(),n.attr("aria-expanded","true"),o.open=!0,l.handleDropPosition(),l.eventTrigger("afterShow"),o},clearHovered:function(){n.removeData("hover");var e=n.data("timeout");n.removeData("timeout"),clearTimeout(e)},hideHovered:function(e){if(e){if(!1===l.eventTrigger("beforeHide"))return;l.clearHovered(),n.removeClass("m-dropdown--open"),o.open=!1,l.eventTrigger("afterHide")}else{if(!1===l.eventTrigger("beforeHide"))return;var t=setTimeout(function(){n.data("hover")&&(l.clearHovered(),n.removeClass("m-dropdown--open"),o.open=!1,l.eventTrigger("afterHide"))},o.options.hoverTimeout);n.data("hover",!0),n.data("timeout",t)}},hideClicked:function(){!1!==l.eventTrigger("beforeHide")&&(n.removeClass("m-dropdown--open"),n.data("dropoff")&&n.data("dropoff").remove(),o.open=!1,l.eventTrigger("afterHide"))},hide:function(e){return!1===o.open||("hover"==o.options.toggle?l.hideHovered(e):l.hideClicked(),"down"==o.defaultDropPos&&"up"==o.currentDropPos&&(n.removeClass("m-dropdown--up"),o.arrow.prependTo(o.wrapper),o.currentDropPos="down")),o},hideOpened:function(){r(".m-dropdown.m-dropdown--open").each(function(){r(this).mDropdown().hide(!0)})},adjustArrowPos:function(){var e=n.outerWidth(),t=o.arrow.hasClass("m-dropdown__arrow--right")?"right":"left",a=0;0<o.arrow.length&&(mUtil.isInResponsiveRange("mobile")&&n.hasClass("m-dropdown--mobile-full-width")?(a=n.offset().left+e/2-Math.abs(o.arrow.width()/2)-parseInt(o.wrapper.css("left")),o.arrow.css("right","auto"),o.arrow.css("left",a),o.arrow.css("margin-left","auto"),o.arrow.css("margin-right","auto")):o.arrow.hasClass("m-dropdown__arrow--adjust")&&(a=e/2-Math.abs(o.arrow.width()/2),n.hasClass("m-dropdown--align-push")&&(a+=20),"right"==t?(o.arrow.css("left","auto"),o.arrow.css("right",a)):(o.arrow.css("right","auto"),o.arrow.css("left",a))))},handleDropPosition:function(){},setZindex:function(){o.wrapper.css("z-index")<mUtil.getHighestZindex(n)&&o.wrapper.css("z-index",zindex)},isPersistent:function(){return o.options.persistent},isShown:function(){return o.open},isInVerticalViewport:function(){var e=o.wrapper,t=e.offset(),a=e.outerHeight(),n=(e.width(),e.find("[data-scrollable]"));return n.length&&(n.data("max-height")?a+=parseInt(n.data("max-height")):n.data("height")&&(a+=parseInt(n.data("height")))),t.top+a<r(window).scrollTop()+r(window).height()},eventTrigger:function(e){for(i=0;i<o.events.length;i++){var t=o.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,o);if(0==t.fired)return o.events[i].fired=!0,t.handler.call(this,o)}}},addEvent:function(e,t,a){return o.events.push({name:e,handler:t,one:a,fired:!1}),l.sync(),o}};return l.run.apply(this,[e]),o.show=function(){return l.show()},o.hide=function(){return l.hide()},o.toggle=function(){return l.toggle()},o.isPersistent=function(){return l.isPersistent()},o.isShown=function(){return l.isShown()},o.fixDropPosition=function(){return l.handleDropPosition()},o.setContent=function(e){return l.setContent(e)},o.on=function(e,t){return l.addEvent(e,t)},o.one=function(e,t){return l.addEvent(e,t,!0)},o},r.fn.mDropdown.defaults={toggle:"click",hoverTimeout:300,skin:"default",height:"auto",dropAuto:!0,maxHeight:!1,minHeight:!1,persistent:!1,mobileOverlay:!0},mUtil.isMobileDevice()?r(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle, [data-dropdown-toggle="hover"] .m-dropdown__toggle',function(e){e.preventDefault(),r(this).parent(".m-dropdown").mDropdown().toggle()}):(r(document).on("click",'[data-dropdown-toggle="click"] .m-dropdown__toggle',function(e){e.preventDefault(),r(this).parent(".m-dropdown").mDropdown().toggle()}),r(document).on("mouseenter",'[data-dropdown-toggle="hover"]',function(e){r(this).mDropdown().toggle()})),r(document).on("click",function(n){r(".m-dropdown.m-dropdown--open").each(function(){if(r(this).data("dropdown")){var e=r(n.target),t=r(this).mDropdown(),a=r(this).find(".m-dropdown__toggle");0<a.length&&!0!==e.is(a)&&0===a.find(e).length&&0===e.find(a).length&&0==t.isPersistent()?t.hide():0===r(this).find(e).length&&t.hide()}})})}(jQuery),function(a){a.fn.mExample=function(e){var n={},t=a(this),o={run:function(e){return t.data("example")?n=t.data("example"):(o.init(e),o.build(),o.setup(),t.data("example",n)),n},init:function(e){n.events=[],n.scrollable=t.find(".m-example__scrollable"),n.options=a.extend(!0,{},a.fn.mExample.defaults,e),0<n.scrollable.length&&(n.scrollable.data("data-min-height")&&(n.options.minHeight=n.scrollable.data("data-min-height")),n.scrollable.data("data-max-height")&&(n.options.maxHeight=n.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(e){for(i=0;i<n.events.length;i++){var t=n.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,n);if(0==t.fired)return n.events[i].fired=!0,t.handler.call(this,n)}}},addEvent:function(e,t,a){n.events.push({name:e,handler:t,one:a,fired:!1}),o.sync()}};return o.run.apply(this,[e]),n.on=function(e,t){return o.addEvent(e,t)},n.one=function(e,t){return o.addEvent(e,t,!0)},n},a.fn.mExample.defaults={}}(jQuery),function(o){o.fn.mHeader=function(e){var n=this,t=o(this),a={run:function(e){return t.data("header")?n=t.data("header"):(a.init(e),a.reset(),a.build(),t.data("header",n)),n},init:function(e){n.options=o.extend(!0,{},o.fn.mHeader.defaults,e)},build:function(){a.toggle()},toggle:function(){var a=0;!1===n.options.minimize.mobile&&!1===n.options.minimize.desktop||o(window).scroll(function(){var e=0;mUtil.isInResponsiveRange("desktop")?(e=n.options.offset.desktop,on=n.options.minimize.desktop.on,off=n.options.minimize.desktop.off):mUtil.isInResponsiveRange("tablet-and-mobile")&&(e=n.options.offset.mobile,on=n.options.minimize.mobile.on,off=n.options.minimize.mobile.off);var t=o(this).scrollTop();n.options.classic?e<t?(o("body").addClass(on),o("body").removeClass(off)):(o("body").addClass(off),o("body").removeClass(on)):(e<t&&a<t?(o("body").addClass(on),o("body").removeClass(off)):(o("body").addClass(off),o("body").removeClass(on)),a=t)})},reset:function(){}};return a.run.apply(n,[e]),n.publicMethod=function(){},n},o.fn.mHeader.defaults={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}}}(jQuery),function(f){f.fn.mMenu=function(e){var u=this,m=f(this),p={run:function(e,t){return m.data("menu")&&!0!==t?u=m.data("menu"):(p.init(e),p.reset(),p.build(),m.data("menu",u)),u},init:function(e){u.events=[],u.options=f.extend(!0,{},f.fn.mMenu.defaults,e),u.pauseDropdownHoverTime=0},build:function(){m.on("click",".m-menu__toggle",p.handleSubmenuAccordion),("dropdown"===p.getSubmenuMode()||p.isConditionalSubmenuDropdown())&&(m.on({mouseenter:p.handleSubmenuDrodownHoverEnter,mouseleave:p.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]'),m.on("click",'[data-menu-submenu-toggle="click"] .m-menu__toggle',p.handleSubmenuDropdownClick)),m.find(".m-menu__item:not(.m-menu__item--submenu) > .m-menu__link:not(.m-menu__toggle)").click(p.handleLinkClick)},reset:function(){m.off("click",".m-menu__toggle",p.handleSubmenuAccordion),m.off({mouseenter:p.handleSubmenuDrodownHoverEnter,mouseleave:p.handleSubmenuDrodownHoverExit},'[data-menu-submenu-toggle="hover"]'),m.off("click",'[data-menu-submenu-toggle="click"] .m-menu__toggle',p.handleSubmenuDropdownClick),u.find(".m-menu__submenu, .m-menu__inner").css("display",""),u.find(".m-menu__item--hover").removeClass("m-menu__item--hover"),u.find(".m-menu__item--open:not(.m-menu__item--expanded)").removeClass("m-menu__item--open")},getSubmenuMode:function(){return mUtil.isInResponsiveRange("desktop")?mUtil.isset(u.options.submenu,"desktop.state.body")?f("body").hasClass(u.options.submenu.desktop.state.body)?u.options.submenu.desktop.state.mode:u.options.submenu.desktop.default:mUtil.isset(u.options.submenu,"desktop")?u.options.submenu.desktop:void 0:mUtil.isInResponsiveRange("tablet")&&mUtil.isset(u.options.submenu,"tablet")?u.options.submenu.tablet:!(!mUtil.isInResponsiveRange("mobile")||!mUtil.isset(u.options.submenu,"mobile"))&&u.options.submenu.mobile},isConditionalSubmenuDropdown:function(){return!(!mUtil.isInResponsiveRange("desktop")||!mUtil.isset(u.options.submenu,"desktop.state.body"))},handleLinkClick:function(e){!1===p.eventTrigger("linkClick",f(this))&&e.preventDefault(),("dropdown"===p.getSubmenuMode()||p.isConditionalSubmenuDropdown())&&p.handleSubmenuDropdownClose(e,f(this))},handleSubmenuDrodownHoverEnter:function(e){if("accordion"!==p.getSubmenuMode()&&!1!==u.resumeDropdownHover()){var t=f(this);p.showSubmenuDropdown(t),1==t.data("hover")&&p.hideSubmenuDropdown(t,!1)}},handleSubmenuDrodownHoverExit:function(e){if(!1!==u.resumeDropdownHover()&&"accordion"!==p.getSubmenuMode()){var t=f(this),a=u.options.dropdown.timeout,n=setTimeout(function(){1==t.data("hover")&&p.hideSubmenuDropdown(t,!0)},a);t.data("hover",!0),t.data("timeout",n)}},handleSubmenuDropdownClick:function(e){if("accordion"!==p.getSubmenuMode()){var t=f(this).closest(".m-menu__item");0==t.hasClass("m-menu__item--hover")?(t.addClass("m-menu__item--open-dropdown"),p.showSubmenuDropdown(t)):(t.removeClass("m-menu__item--open-dropdown"),p.hideSubmenuDropdown(t,!0)),e.preventDefault()}},handleSubmenuDropdownClose:function(e,t){if("accordion"!==p.getSubmenuMode()){var a=m.find(".m-menu__item.m-menu__item--submenu.m-menu__item--hover");0<a.length&&!1===t.hasClass("m-menu__toggle")&&0===t.find(".m-menu__toggle").length&&a.each(function(){p.hideSubmenuDropdown(f(this),!0)})}},handleSubmenuAccordion:function(e){if("dropdown"!==p.getSubmenuMode()){var t=f(this),a=t.closest("li"),n=a.children(".m-menu__submenu, .m-menu__inner");if(n.parent(".m-menu__item--expanded").length,0<n.length){e.preventDefault();var o=u.options.accordion.slideSpeed;if(!1===a.hasClass("m-menu__item--open")){if(!1===u.options.accordion.expandAll){var i=t.closest(".m-menu__nav, .m-menu__subnav").find("> .m-menu__item.m-menu__item--open.m-menu__item--submenu:not(.m-menu__item--expanded)");i.each(function(){f(this).children(".m-menu__submenu").slideUp(o,function(){p.scrollToItem(t)}),f(this).removeClass("m-menu__item--open")}),0<i.length&&!0}n.slideDown(o,function(){p.scrollToItem(t)}),a.addClass("m-menu__item--open")}else n.slideUp(o,function(){p.scrollToItem(t)}),a.removeClass("m-menu__item--open")}}else e.preventDefault()},scrollToItem:function(e){mUtil.isInResponsiveRange("desktop")&&u.options.accordion.autoScroll&&!m.data("menu-scrollable")&&mApp.scrollToViewport(e)},hideSubmenuDropdown:function(e,t){t&&e.removeClass("m-menu__item--hover"),e.removeData("hover");var a=e.data("timeout");e.removeData("timeout"),clearTimeout(a)},showSubmenuDropdown:function(t){m.find(".m-menu__item--submenu.m-menu__item--hover").each(function(){var e=f(this);t.is(e)||0<e.find(t).length||0<t.find(e).length||p.hideSubmenuDropdown(e,!0)}),p.adjustSubmenuDropdownArrowPos(t),t.addClass("m-menu__item--hover"),"accordion"===p.getSubmenuMode()&&u.options.accordion.autoScroll&&mApp.scrollTo(t.children(".m-menu__item--submenu"))},resize:function(e){if("dropdown"===p.getSubmenuMode()){var a,t=m.find("> .m-menu__nav > .m-menu__item--resize"),n=t.find("> .m-menu__submenu"),o=mUtil.getViewPort().width;m.find("> .m-menu__nav > .m-menu__item").length;if("dropdown"==p.getSubmenuMode()&&(mUtil.isInResponsiveRange("desktop")&&mUtil.isset(u.options,"resize.desktop")&&(a=u.options.resize.desktop)&&o<=t.data("menu-resize-desktop-breakpoint")||mUtil.isInResponsiveRange("tablet")&&mUtil.isset(u.options,"resize.tablet")&&(a=u.options.resize.tablet)&&o<=t.data("menu-resize-tablet-breakpoint")||mUtil.isInResponsiveRange("mobile")&&mUtil.isset(u.options,"resize.mobile")&&(a=u.options.resize.mobile)&&o<=t.data("menu-resize-mobile-breakpoint"))){var i=n.find("> .m-menu__subnav > .m-menu__item").length,l=m.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length;if(!0===a.apply())0<i&&n.find("> .m-menu__subnav > .m-menu__item").each(function(){var e=f(this),t=n.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").length;if(m.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)").eq(t-1).after(e),!1===a.apply())return e.appendTo(n.find("> .m-menu__subnav")),!1;i--,l++});else if(0<l)for(var r=m.find("> .m-menu__nav > .m-menu__item:not(.m-menu__item--resize)"),s=r.length-1,d=0;d<r.length;d++){var c=f(r.get(s));if(s--,!0===a.apply())break;c.appendTo(n.find("> .m-menu__subnav")),i++,l--}0<i?t.show():t.hide()}else n.find("> .m-menu__subnav > .m-menu__item").each(function(){var e=n.find("> .m-menu__subnav > .m-menu__item").length;m.find("> .m-menu__nav > .m-menu__item").get(e).after(f(this))}),t.hide()}},createSubmenuDropdownClickDropoff:function(t){var e=t.find("> .m-menu__submenu").css("zIndex")-1,a=f('<div class="m-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+e+'"></div>');f("body").after(a),a.on("click",function(e){e.stopPropagation(),e.preventDefault(),t.removeClass("m-menu__item--hover"),f(this).remove()})},adjustSubmenuDropdownArrowPos:function(e){var t=e.find("> .m-menu__submenu > .m-menu__arrow.m-menu__arrow--adjust"),a=e.find("> .m-menu__submenu");e.find("> .m-menu__submenu > .m-menu__subnav");if(0<t.length){var n;e.children(".m-menu__link");a.hasClass("m-menu__submenu--classic")||a.hasClass("m-menu__submenu--fixed")?a.hasClass("m-menu__submenu--right")?(n=e.outerWidth()/2,a.hasClass("m-menu__submenu--pull")&&(n+=Math.abs(parseInt(a.css("margin-right")))),n=a.width()-n):a.hasClass("m-menu__submenu--left")&&(n=e.outerWidth()/2,a.hasClass("m-menu__submenu--pull")&&(n+=Math.abs(parseInt(a.css("margin-left"))))):a.hasClass("m-menu__submenu--center")||a.hasClass("m-menu__submenu--full")?(n=e.offset().left-(mUtil.getViewPort().width-a.outerWidth())/2,n+=e.outerWidth()/2):a.hasClass("m-menu__submenu--left")||a.hasClass("m-menu__submenu--right"),t.css("left",n)}},pauseDropdownHover:function(e){var t=new Date;u.pauseDropdownHoverTime=t.getTime()+e},resumeDropdownHover:function(){return(new Date).getTime()>u.pauseDropdownHoverTime},resetActiveItem:function(e){m.find(".m-menu__item--active").each(function(){f(this).removeClass("m-menu__item--active"),f(this).children(".m-menu__submenu").css("display",""),f(this).parents(".m-menu__item--submenu").each(function(){f(this).removeClass("m-menu__item--open"),f(this).children(".m-menu__submenu").css("display","")})}),!1===u.options.accordion.expandAll&&m.find(".m-menu__item--open").each(function(){f(this).removeClass("m-menu__item--open")})},setActiveItem:function(e){p.resetActiveItem(),(e=f(e)).addClass("m-menu__item--active"),e.parents(".m-menu__item--submenu").each(function(){f(this).addClass("m-menu__item--open")})},getBreadcrumbs:function(e){var t=[],a=(e=f(e)).children(".m-menu__link");return t.push({text:a.find(".m-menu__link-text").html(),title:a.attr("title"),href:a.attr("href")}),e.parents(".m-menu__item--submenu").each(function(){var e=f(this).children(".m-menu__link");t.push({text:e.find(".m-menu__link-text").html(),title:e.attr("title"),href:e.attr("href")})}),t.reverse(),t},getPageTitle:function(e){return(e=f(e)).children(".m-menu__link").find(".m-menu__link-text").html()},sync:function(){f(m).data("menu",u)},eventTrigger:function(e,t){for(i=0;i<u.events.length;i++){var a=u.events[i];if(a.name==e){if(1!=a.one)return a.handler.call(this,u,t);if(0==a.fired)return u.events[i].fired=!0,a.handler.call(this,u,t)}}},addEvent:function(e,t,a){u.events.push({name:e,handler:t,one:a,fired:!1}),p.sync()}};return p.run.apply(u,[e]),void 0!==e&&f(window).resize(function(){p.run.apply(u,[e,!0])}),u.setActiveItem=function(e){return p.setActiveItem(e)},u.getBreadcrumbs=function(e){return p.getBreadcrumbs(e)},u.getPageTitle=function(e){return p.getPageTitle(e)},u.getSubmenuMode=function(){return p.getSubmenuMode()},u.pauseDropdownHover=function(e){p.pauseDropdownHover(e)},u.resumeDropdownHover=function(){return p.resumeDropdownHover()},u.on=function(e,t){return p.addEvent(e,t)},u},f.fn.mMenu.defaults={accordion:{slideSpeed:200,autoScroll:!0,expandAll:!0},dropdown:{timeout:500}},f(document).on("click",function(t){f('.m-menu__nav .m-menu__item.m-menu__item--submenu.m-menu__item--hover[data-menu-submenu-toggle="click"]').each(function(){var e=f(this).parent(".m-menu__nav").parent();menu=e.mMenu(),"dropdown"===menu.getSubmenuMode()&&0==f(t.target).is(e)&&0==e.find(f(t.target)).length&&e.find('.m-menu__item--submenu.m-menu__item--hover[data-menu-submenu-toggle="click"]').removeClass("m-menu__item--hover")})})}(jQuery),function(a){a.fn.mMessenger=function(e){var n={},t=a(this),o={run:function(e){return t.data("messenger")?n=t.data("messenger"):(o.init(e),o.build(),o.setup(),t.data("messenger",n)),n},init:function(e){n.events=[],n.scrollable=t.find(".m-messenger__scrollable"),n.options=a.extend(!0,{},a.fn.mMessenger.defaults,e),0<n.scrollable.length&&(n.scrollable.data("data-min-height")&&(n.options.minHeight=n.scrollable.data("data-min-height")),n.scrollable.data("data-max-height")&&(n.options.maxHeight=n.scrollable.data("data-max-height")))},build:function(){mUtil.isMobileDevice()},setup:function(){},eventTrigger:function(e){for(i=0;i<n.events.length;i++){var t=n.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,n);if(0==t.fired)return n.events[i].fired=!0,t.handler.call(this,n)}}},addEvent:function(e,t,a){n.events.push({name:e,handler:t,one:a,fired:!1}),o.sync()}};return o.run.apply(this,[e]),n.on=function(e,t){return o.addEvent(e,t)},n.one=function(e,t){return o.addEvent(e,t,!0)},n},a.fn.mMessenger.defaults={}}(jQuery),function(a){a.fn.mOffcanvas=function(e){var n=this,t=a(this),o={run:function(e){return t.data("offcanvas")?n=t.data("offcanvas"):(o.init(e),o.build(),t.data("offcanvas",n)),n},init:function(e){n.events=[],n.options=a.extend(!0,{},a.fn.mOffcanvas.defaults,e),n.overlay,n.classBase=n.options.class,n.classShown=n.classBase+"--on",n.classOverlay=n.classBase+"-overlay",n.state=t.hasClass(n.classShown)?"shown":"hidden",n.close=n.options.close,n.options.toggle&&n.options.toggle.target?(n.toggleTarget=n.options.toggle.target,n.toggleState=n.options.toggle.state):(n.toggleTarget=n.options.toggle,n.toggleState="")},build:function(){a(n.toggleTarget).on("click",o.toggle),n.close&&a(n.close).on("click",o.hide)},sync:function(){a(t).data("offcanvas",n)},toggle:function(){"shown"==n.state?o.hide():o.show()},show:function(){if("shown"!=n.state){if(o.eventTrigger("beforeShow"),""!=n.toggleState&&a(n.toggleTarget).addClass(n.toggleState),a("body").addClass(n.classShown),t.addClass(n.classShown),n.state="shown",n.options.overlay){var e=a('<div class="'+n.classOverlay+'"></div>');t.after(e),n.overlay=e,n.overlay.on("click",function(e){e.stopPropagation(),e.preventDefault(),o.hide()})}return o.eventTrigger("afterShow"),n}},hide:function(){if("hidden"!=n.state)return o.eventTrigger("beforeHide"),""!=n.toggleState&&a(n.toggleTarget).removeClass(n.toggleState),a("body").removeClass(n.classShown),t.removeClass(n.classShown),n.state="hidden",n.options.overlay&&n.overlay.remove(),o.eventTrigger("afterHide"),n},eventTrigger:function(e){for(i=0;i<n.events.length;i++){var t=n.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,n);if(0==t.fired)return n.events[i].fired=!0,t.handler.call(this,n)}}},addEvent:function(e,t,a){n.events.push({name:e,handler:t,one:a,fired:!1}),o.sync()}};return o.run.apply(this,[e]),n.hide=function(){return o.hide()},n.show=function(){return o.show()},n.on=function(e,t){return o.addEvent(e,t)},n.one=function(e,t){return o.addEvent(e,t,!0)},n},a.fn.mOffcanvas.defaults={}}(jQuery),function(s){s.fn.mPortlet=function(e){var l={},r=s(this),o={run:function(e){return r.data("portlet-object")?l=r.data("portlet-object"):(o.init(e),o.build(),r.data("portlet-object",l)),l},init:function(e){l.options=s.extend(!0,{},s.fn.mPortlet.defaults,e),l.events=[],l.eventOne=!1,0!==r.find("> .m-portlet__body").length?l.body=r.find("> .m-portlet__body"):0!==r.find("> .m-form").length&&(l.body=r.find("> .m-form"))},build:function(){var e=r.find("> .m-portlet__head [data-portlet-tool=remove]");1===e.length&&e.click(function(e){e.preventDefault(),o.remove()});var t=r.find("> .m-portlet__head [data-portlet-tool=reload]");1===t.length&&t.click(function(e){e.preventDefault(),o.reload()});var a=r.find("> .m-portlet__head [data-portlet-tool=toggle]");1===a.length&&a.click(function(e){e.preventDefault(),o.toggle()});var n=r.find("> .m-portlet__head [data-portlet-tool=fullscreen]");1===n.length&&n.click(function(e){e.preventDefault(),o.fullscreen()}),o.setupTooltips()},remove:function(){!1!==o.eventTrigger("beforeRemove")&&(s("body").hasClass("m-portlet--fullscreen")&&r.hasClass("m-portlet--fullscreen")&&o.fullscreen("off"),o.removeTooltips(),r.remove(),o.eventTrigger("afterRemove"))},setContent:function(e){e&&l.body.html(e)},getBody:function(){return l.body},getSelf:function(){return r},setupTooltips:function(){if(l.options.tooltips){var e=r.hasClass("collapsed"),t=s("body").hasClass("m-portlet--fullscreen")&&r.hasClass("m-portlet--fullscreen"),a=r.find("> .m-portlet__head [data-portlet-tool=remove]");1===a.length&&(a.attr("title",l.options.tools.remove),a.data("placement",t?"bottom":"top"),a.data("offset",t?"0,10px,0,0":"0,5px"),a.tooltip("dispose"),mApp.initTooltip(a));var n=r.find("> .m-portlet__head [data-portlet-tool=reload]");1===n.length&&(n.attr("title",l.options.tools.reload),n.data("placement",t?"bottom":"top"),n.data("offset",t?"0,10px,0,0":"0,5px"),n.tooltip("dispose"),mApp.initTooltip(n));var o=r.find("> .m-portlet__head [data-portlet-tool=toggle]");1===o.length&&(e?o.attr("title",l.options.tools.toggle.expand):o.attr("title",l.options.tools.toggle.collapse),o.data("placement",t?"bottom":"top"),o.data("offset",t?"0,10px,0,0":"0,5px"),o.tooltip("dispose"),mApp.initTooltip(o));var i=r.find("> .m-portlet__head [data-portlet-tool=fullscreen]");1===i.length&&(t?i.attr("title",l.options.tools.fullscreen.off):i.attr("title",l.options.tools.fullscreen.on),i.data("placement",t?"bottom":"top"),i.data("offset",t?"0,10px,0,0":"0,5px"),i.tooltip("dispose"),mApp.initTooltip(i))}},removeTooltips:function(){if(l.options.tooltips){var e=r.find("> .m-portlet__head [data-portlet-tool=remove]");1===e.length&&e.tooltip("dispose");var t=r.find("> .m-portlet__head [data-portlet-tool=reload]");1===t.length&&t.tooltip("dispose");var a=r.find("> .m-portlet__head [data-portlet-tool=toggle]");1===a.length&&a.tooltip("dispose");var n=r.find("> .m-portlet__head [data-portlet-tool=fullscreen]");1===n.length&&n.tooltip("dispose")}},reload:function(){o.eventTrigger("reload")},toggle:function(e){if("collapse"===e||r.hasClass("m-portlet--collapse")||r.hasClass("m-portlet--collapsed")){if(!1===o.eventTrigger("beforeExpand"))return;r.removeClass("m-portlet--collapse"),r.removeClass("m-portlet--collapsed"),o.setupTooltips(),l.body.slideDown(l.options.bodyToggleSpeed,function(){o.eventTrigger("afterExpand")})}else{if(!1===o.eventTrigger("beforeCollapse"))return;r.addClass("m-portlet--collapse"),o.setupTooltips(),l.body.slideUp(l.options.bodyToggleSpeed,function(){o.eventTrigger("afterCollapse")})}},fullscreen:function(e){"off"===e||s("body").hasClass("m-portlet--fullscreen")&&r.hasClass("m-portlet--fullscreen")?(o.eventTrigger("beforeFullscreenOff"),s("body").removeClass("m-portlet--fullscreen"),r.removeClass("m-portlet--fullscreen"),o.setupTooltips(),o.eventTrigger("afterFullscreenOff")):(o.eventTrigger("beforeFullscreenOn"),r.addClass("m-portlet--fullscreen"),s("body").addClass("m-portlet--fullscreen"),o.setupTooltips(),o.eventTrigger("afterFullscreenOn"))},sync:function(){s(r).data("portlet",l)},eventTrigger:function(e){for(i=0;i<l.events.length;i++){var t=l.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,l);if(0==t.fired)return l.events[i].fired=!0,t.handler.call(this,l)}}},addEvent:function(e,t,a){return l.events.push({name:e,handler:t,one:a,fired:!1}),o.sync(),l}};return o.run.apply(this,[e]),l.remove=function(){return o.remove(html)},l.reload=function(){return o.reload()},l.setContent=function(e){return o.setContent(e)},l.collapse=function(){return o.toggle("collapse")},l.expand=function(){return o.toggle("expand")},l.fullscreen=function(){return o.fullscreen("on")},l.unFullscreen=function(){return o.fullscreen("off")},l.getBody=function(){return o.getBody()},l.getSelf=function(){return o.getSelf()},l.on=function(e,t){return o.addEvent(e,t)},l.one=function(e,t){return o.addEvent(e,t,!0)},l},s.fn.mPortlet.defaults={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:"Collapse",expand:"Expand"},reload:"Reload",remove:"Remove",fullscreen:{on:"Fullscreen",off:"Exit Fullscreen"}}}}(jQuery),function(i){i.fn.mQuicksearch=function(e){var a=this,n=i(this),o={run:function(e){return n.data("qs")?a=n.data("qs"):(o.init(e),o.build(),n.data("qs",a)),a},init:function(e){a.options=i.extend(!0,{},i.fn.mQuicksearch.defaults,e),a.form=n.find("form"),a.input=i(a.options.input),a.iconClose=i(a.options.iconClose),"default"==a.options.type&&(a.iconSearch=i(a.options.iconSearch),a.iconCancel=i(a.options.iconCancel)),a.dropdown=n.mDropdown({mobileOverlay:!1}),a.cancelTimeout,a.processing=!1},build:function(){a.input.keyup(o.handleSearch),"default"==a.options.type?(a.input.focus(o.showDropdown),a.iconCancel.click(o.handleCancel),a.iconSearch.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(i("body").addClass("m-header-search--mobile-expanded"),a.input.focus())}),a.iconClose.click(function(){mUtil.isInResponsiveRange("tablet-and-mobile")&&(i("body").removeClass("m-header-search--mobile-expanded"),o.closeDropdown())})):"dropdown"==a.options.type&&(a.dropdown.on("afterShow",function(){a.input.focus()}),a.iconClose.click(o.closeDropdown))},handleSearch:function(e){var t=a.input.val();0===t.length&&(a.dropdown.hide(),o.handleCancelIconVisibility("on"),o.closeDropdown(),n.removeClass(a.options.hasResultClass)),t.length<a.options.minLength||1==a.processing||(a.processing=!0,a.form.addClass(a.options.spinner),o.handleCancelIconVisibility("off"),i.ajax({url:a.options.source,data:{query:t},dataType:"html",success:function(e){a.processing=!1,a.form.removeClass(a.options.spinner),o.handleCancelIconVisibility("on"),a.dropdown.setContent(e).show(),n.addClass(a.options.hasResultClass)},error:function(e){a.processing=!1,a.form.removeClass(a.options.spinner),o.handleCancelIconVisibility("on"),a.dropdown.setContent(a.options.templates.error.apply(a,e)).show(),n.addClass(a.options.hasResultClass)}}))},handleCancelIconVisibility:function(e){"dropdown"!=a.options.type&&("on"==e?0===a.input.val().length?(a.iconCancel.css("visibility","hidden"),a.iconClose.css("visibility","hidden")):(clearTimeout(a.cancelTimeout),a.cancelTimeout=setTimeout(function(){a.iconCancel.css("visibility","visible"),a.iconClose.css("visibility","visible")},500)):(a.iconCancel.css("visibility","hidden"),a.iconClose.css("visibility","hidden")))},handleCancel:function(e){a.input.val(""),a.iconCancel.css("visibility","hidden"),n.removeClass(a.options.hasResultClass),o.closeDropdown()},closeDropdown:function(){a.dropdown.hide()},showDropdown:function(e){0==a.dropdown.isShown()&&a.input.val().length>a.options.minLength&&0==a.processing&&(a.dropdown.show(),e.preventDefault(),e.stopPropagation())}};return o.run.apply(a,[e]),a.test=function(e){},a},i.fn.mQuicksearch.defaults={minLength:1,maxHeight:300}}(jQuery),function(a){a.fn.mScrollTop=function(e){var n=this,t=a(this),o={run:function(e){return t.data("scrollTop")?n=t.data("scrollTop"):(o.init(e),o.build(),t.data("scrollTop",n)),n},init:function(e){n.element=t,n.events=[],n.options=a.extend(!0,{},a.fn.mScrollTop.defaults,e)},build:function(){navigator.userAgent.match(/iPhone|iPad|iPod/i)?a(window).bind("touchend touchcancel touchleave",function(){o.handle()}):a(window).scroll(function(){o.handle()}),t.on("click",o.scroll)},sync:function(){a(t).data("scrollTop",n)},handle:function(){a(window).scrollTop()>n.options.offset?a("body").addClass("m-scroll-top--shown"):a("body").removeClass("m-scroll-top--shown")},scroll:function(e){e.preventDefault(),a("html, body").animate({scrollTop:0},n.options.speed)},eventTrigger:function(e){for(i=0;i<n.events.length;i++){var t=n.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,n);if(0==t.fired)return n.events[i].fired=!0,t.handler.call(this,n)}}},addEvent:function(e,t,a){n.events.push({name:e,handler:t,one:a,fired:!1}),o.sync()}};return o.run.apply(this,[e]),n.on=function(e,t){return o.addEvent(e,t)},n.one=function(e,t){return o.addEvent(e,t,!0)},n},a.fn.mScrollTop.defaults={offset:300,speed:600}}(jQuery),function(a){a.fn.mToggle=function(e){var n=this,t=a(this),o={run:function(e){return t.data("toggle")?n=t.data("toggle"):(o.init(e),o.build(),t.data("toggle",n)),n},init:function(e){n.element=t,n.events=[],n.options=a.extend(!0,{},a.fn.mToggle.defaults,e),n.target=a(n.options.target),n.targetState=n.options.targetState,n.togglerState=n.options.togglerState,n.state=mUtil.hasClasses(n.target,n.targetState)?"on":"off"},build:function(){t.on("click",o.toggle)},sync:function(){a(t).data("toggle",n)},toggle:function(){"off"==n.state?o.on():o.off()},on:function(){return o.eventTrigger("beforeOn"),n.target.addClass(n.targetState),n.togglerState&&t.addClass(n.togglerState),n.state="on",o.eventTrigger("afterOn"),n},off:function(){return o.eventTrigger("beforeOff"),n.target.removeClass(n.targetState),n.togglerState&&t.removeClass(n.togglerState),n.state="off",o.eventTrigger("afterOff"),n},eventTrigger:function(e){for(i=0;i<n.events.length;i++){var t=n.events[i];if(t.name==e){if(1!=t.one)return t.handler.call(this,n);if(0==t.fired)return n.events[i].fired=!0,t.handler.call(this,n)}}},addEvent:function(e,t,a){n.events.push({name:e,handler:t,one:a,fired:!1}),o.sync()}};return o.run.apply(this,[e]),n.on=function(e,t){return o.addEvent(e,t)},n.one=function(e,t){return o.addEvent(e,t,!0)},n},a.fn.mToggle.defaults={togglerState:"",targetState:""}}(jQuery),$.notifyDefaults({template:'<div data-notify="container" class="alert alert-{0} m-alert" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button><span data-notify="icon"></span><span data-notify="title">{1}</span><span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),Chart.elements.Rectangle.prototype.draw=function(){function e(e){return v[(_+e)%4]}var t,a,n,o,i,l,r,s=this._chart.ctx,d=this._view,c=d.borderWidth,u=this._chart.options.barRadius?this._chart.options.barRadius:0;if(d.horizontal?(t=d.base,a=d.x,n=d.y-d.height/2,o=d.y+d.height/2,i=t<a?1:-1,l=1,r=d.borderSkipped||"left"):(t=d.x-d.width/2,a=d.x+d.width/2,i=1,l=(n=d.y>2*u?d.y-u:d.y)<(o=d.base)?1:-1,r=d.borderSkipped||"bottom"),c){var m=Math.min(Math.abs(t-a),Math.abs(n-o)),p=(c=m<c?m:c)/2,f=t+("left"!==r?p*i:0),g=a+("right"!==r?-p*i:0),h=n+("top"!==r?p*l:0),b=o+("bottom"!==r?-p*l:0);f!==g&&(n=h,o=b),h!==b&&(t=f,a=g)}s.beginPath(),s.fillStyle=d.backgroundColor,s.strokeStyle=d.borderColor,s.lineWidth=c;var v=[[t,o],[t,n],[a,n],[a,o]],_=["bottom","left","top","right"].indexOf(r,0);-1===_&&(_=0);var w=e(0);s.moveTo(w[0],w[1]);for(var k=1;k<4;k++){var C;w=e(k),nextCornerId=k+1,4==nextCornerId&&(nextCornerId=0),nextCorner=e(nextCornerId),width=v[2][0]-v[1][0],height=v[0][1]-v[1][1],x=v[1][0],y=v[1][1],(C=u)>height/2&&(C=height/2),C>width/2&&(C=width/2),s.moveTo(x+C,y),s.lineTo(x+width-C,y),s.quadraticCurveTo(x+width,y,x+width,y+C),s.lineTo(x+width,y+height-C),s.quadraticCurveTo(x+width,y+height,x+width-C,y+height),s.lineTo(x+C,y+height),s.quadraticCurveTo(x,y+height,x,y+height-C),s.lineTo(x,y+C),s.quadraticCurveTo(x,y,x+C,y)}s.fill(),c&&s.stroke()},$.fn.markdown.defaults.iconlibrary="fa",$.fn.timepicker.defaults=$.extend(!0,{},$.fn.timepicker.defaults,{icons:{up:"la la-angle-up",down:"la la-angle-down"}}),jQuery.validator.setDefaults({errorElement:"div",errorClass:"form-control-feedback",focusInvalid:!1,ignore:"",errorPlacement:function(e,t){var a=$(t).closest(".form-group").find(".m-form__help");0<a.length?a.before(e):$(t).after(e)},highlight:function(e){$(e).closest(".form-group").addClass("has-danger"),$(e).hasClass("form-control")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-danger")},success:function(e,t){$(e).closest(".form-group").addClass("has-success").removeClass("has-danger"),$(e).closest(".form-group").find(".form-control-feedback").remove()}});var mLayout=function(){var n,o,t,i;return{init:function(){this.initHeader(),this.initAside()},initHeader:function(){var e,t,a;e=$(".m-header"),t={offset:{},minimize:{}},"hide"==e.data("minimize-mobile")?(t.minimize.mobile={},t.minimize.mobile.on="m-header--hide",t.minimize.mobile.off="m-header--show"):t.minimize.mobile=!1,"hide"==e.data("minimize")?(t.minimize.desktop={},t.minimize.desktop.on="m-header--hide",t.minimize.desktop.off="m-header--show"):t.minimize.desktop=!1,e.data("minimize-offset")&&(t.offset.desktop=e.data("minimize-offset")),e.data("minimize-mobile-offset")&&(t.offset.mobile=e.data("minimize-mobile-offset")),e.mHeader(t),i=$("#m_header_menu").mOffcanvas({class:"m-aside-header-menu-mobile",overlay:!0,close:"#m_aside_header_menu_mobile_close_btn",toggle:{target:"#m_aside_header_menu_mobile_toggle",state:"m-brand__toggler--active"}}),n=$("#m_header_menu").mMenu({submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},resize:{desktop:function(){return!($("#m_header_nav").width()<$("#m_header_menu_container").width()+$("#m_header_topbar").width()+20)}}}),$("#m_aside_header_topbar_mobile_toggle").click(function(){$("body").toggleClass("m-topbar--on")}),setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").addClass("m-animate-shake"),$("#m_topbar_notification_icon .m-nav__link-badge").addClass("m-animate-blink")},3e3),setInterval(function(){$("#m_topbar_notification_icon .m-nav__link-icon").removeClass("m-animate-shake"),$("#m_topbar_notification_icon .m-nav__link-badge").removeClass("m-animate-blink")},6e3),(a=$("#m_quicksearch")).mQuicksearch({type:a.data("search-type"),source:"http://keenthemes.com/metronic/preview/inc/api/quick_search.php",spinner:"m-loader m-loader--skin-light m-loader--right",input:"#m_quicksearch_input",iconClose:"#m_quicksearch_close",iconCancel:"#m_quicksearch_cancel",iconSearch:"#m_quicksearch_search",hasResultClass:"m-list-search--has-result",minLength:1,templates:{error:function(e){return'<div class="m-search-results m-search-results--skin-light"><span class="m-search-result__message">Something went wrong</div></div>'}}}),$('[data-toggle="m-scroll-top"]').mScrollTop({offset:300,speed:600})},initAside:function(){var e;e=$("#m_aside_left").hasClass("m-aside-left--offcanvas-default")?"m-aside-left--offcanvas-default":"m-aside-left",t=$("#m_aside_left").mOffcanvas({class:e,overlay:!0,close:"#m_aside_left_close_btn",toggle:{target:"#m_aside_left_offcanvas_toggle",state:"m-brand__toggler--active"}}),function(){function e(e){if(mUtil.isInResponsiveRange("tablet-and-mobile"))mApp.destroyScroller(e);else{var t=mUtil.getViewPort().height-$(".m-header").outerHeight()-(0!=$(".m-aside-left .m-aside__header").length?$(".m-aside-left .m-aside__header").outerHeight():0)-(0!=$(".m-aside-left .m-aside__footer").length?$(".m-aside-left .m-aside__footer").outerHeight():0);mApp.initScroller(e,{height:t})}}var t=$("#m_ver_menu"),a={submenu:{desktop:{default:1==t.data("menu-dropdown")?"dropdown":"accordion",state:{body:"m-aside-left--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{autoScroll:!0,expandAll:!1}};o=t.mMenu(a),t.data("menu-scrollable")&&(e(o),mUtil.addResizeHandler(function(){e(o)}))}(),$("#m_aside_left_minimize_toggle").mToggle({target:"body",targetState:"m-brand--minimize m-aside-left--minimize",togglerState:"m-brand__toggler--active"}).on("toggle",function(){n.pauseDropdownHover(800),o.pauseDropdownHover(800)}),$("#m_aside_left_hide_toggle").mToggle({target:"body",targetState:"m-aside-left--hide",togglerState:"m-brand__toggler--active"}).on("toggle",function(){n.pauseDropdownHover(800),o.pauseDropdownHover(800)})},getAsideMenu:function(){return o},closeMobileAsideMenuOffcanvas:function(){mUtil.isMobileDevice()&&t.hide()},closeMobileHorMenuOffcanvas:function(){mUtil.isMobileDevice()&&i.hide()}}}();$(document).ready(function(){!1===mUtil.isAngularVersion()&&mLayout.init()});var mQuickSidebar=function(){var n=$("#m_quick_sidebar"),o=$("#m_quick_sidebar_tabs"),e=$("#m_quick_sidebar_close"),t=$("#m_quick_sidebar_toggle"),a=n.find(".m-quick-sidebar__content"),i=function(){var e,t,a;(e=function(){var e=$("#m_quick_sidebar_tabs_messenger"),t=e.find(".m-messenger__messages"),a=n.outerHeight(!0)-o.outerHeight(!0)-e.find(".m-messenger__form").outerHeight(!0)-120;t.css("height",a),mApp.initScroller(t,{})})(),mUtil.addResizeHandler(e),(t=function(){var e=$("#m_quick_sidebar_tabs_settings"),t=mUtil.getViewPort().height-o.outerHeight(!0)-60;e.css("height",t),mApp.initScroller(e,{})})(),mUtil.addResizeHandler(t),(a=function(){var e=$("#m_quick_sidebar_tabs_logs"),t=mUtil.getViewPort().height-o.outerHeight(!0)-60;e.css("height",t),mApp.initScroller(e,{})})(),mUtil.addResizeHandler(a)};return{init:function(){n.mOffcanvas({class:"m-quick-sidebar",close:e,toggle:t}),n.mOffcanvas().one("afterShow",function(){mApp.block(n),setTimeout(function(){mApp.unblock(n),a.removeClass("m--hide"),i()},1e3)})}}}();$(document).ready(function(){mQuickSidebar.init()});